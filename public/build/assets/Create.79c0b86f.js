import{d as D,H as E,i as k,aB as H,ac as h,r as s,o as u,c as T,b as t,w as a,a as n,p as r,t as l,h as U,f as b,g as f,F as N}from"./app.17cd73cb.js";import{b as V,d as z}from"./PsLayout.dfd88468.js";import{P as j}from"./PsBreadcrumb2.49a3f56a.js";import{u as K}from"./Validators.52e283a4.js";import{P as M}from"./PsInput.1d284888.js";import{P as q}from"./PsLabel.22ffb702.js";import{P as A}from"./PsButton.e57c4d7d.js";import{P as G}from"./PsCard.ad8f8108.js";import{P as J}from"./PsLoading.6ac4d83e.js";import{P as O}from"./PsIcon.05949a2a.js";import{P as Q}from"./PsCheckboxValue.e5e75bc0.js";import{P as R}from"./PsLabelCaption.88f9aeab.js";import{P as W}from"./PsLabelTitle3.d3f1b34d.js";import{P as X}from"./PsImageUpload.30e55671.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.bee9bcb9.js";import"./PsInputWithRightIcon.1f31b4ee.js";import"./PsIcon1.1b6f6944.js";import"./PsDraggable.e6494ff8.js";const Z=D({name:"Create",components:{Head:E,PsBreadcrumb2:j,PsInput:M,PsLabel:q,PsButton:A,PsLabelHeader6:V,PsCard:G,PsLoading:J,PsIcon:O,PsCheckboxValue:Q,PsLabelCaption:R,PsLabelTitle3:W,PsImageUpload:X},layout:z,props:["errors"],setup(e){const o=k(!1),p=k(!1),c=k(),{isEmpty:P,minLength:$}=K(),g=(i,d)=>{e.errors[i]=d?$(i,d,3):P(i,d),i=="name"&&(c.value.isError=e.errors.name!="")};let _=H({name:"",cover:"",icon:"",status:!1});function v(){this.$inertia.post(route("category.store"),_,{forceFormData:!0,onBefore:()=>{o.value=!0},onSuccess:()=>{o.value=!1,p.value=!0,setTimeout(()=>{p.value=!1},2e3)},onError:()=>{c.value.isError=e.errors.name!="",o.value=!1}})}return{validateNameInput:g,handleSubmit:v,form:_,loading:o,success:p,name:c}},computed:{breadcrumb(){return[{label:h("core__be_dashboard_label"),url:route("admin.index")},{label:h("category_module"),url:route("category.index")},{label:h("core__add_category"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("category.index"))}}}),ee={class:"rounded-xl"},oe={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},te={class:"px-4 pt-6 dark:bg-backgroundDark"},ae={class:"grid w-full sm:w-1/2 gap-6"},se=n("span",{class:"text-red-500 ms-1"},"*",-1),re=n("span",{class:"text-red-500 ms-1"},"*",-1),le=n("span",{class:"text-red-500 ms-1"},"*",-1),ne={class:"flex flex-row justify-end mb-2.5"};function me(e,o,p,c,P,$){const g=s("Head"),_=s("ps-breadcrumb-2"),v=s("ps-label-header-6"),i=s("ps-label"),d=s("ps-input"),y=s("ps-label-caption"),C=s("ps-label-title-3"),w=s("ps-image-upload"),B=s("ps-checkbox-value"),F=s("ps-button"),x=s("ps-loading"),L=s("ps-icon"),S=s("ps-card"),I=s("ps-layout");return u(),T(N,null,[t(g,{title:e.$t("core__add_category")},null,8,["title"]),t(I,null,{default:a(()=>[t(_,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(S,{class:"w-full h-auto"},{default:a(()=>[n("div",ee,[n("div",oe,[t(v,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[r(l(e.$t("core__be_category_info")),1)]),_:1})]),n("div",te,[n("form",{onSubmit:o[7]||(o[7]=U((...m)=>e.handleSubmit&&e.handleSubmit(...m),["prevent"]))},[n("div",ae,[n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[r(l(e.$t("core__category_label")),1),se]),_:1}),t(d,{ref:"name",type:"text",value:e.form.name,"onUpdate:value":o[0]||(o[0]=m=>e.form.name=m),placeholder:e.$t("core__category_placeholder"),onKeyup:o[1]||(o[1]=m=>e.validateNameInput("name",e.form.name)),onBlur:o[2]||(o[2]=m=>e.validateNameInput("name",e.form.name))},null,8,["value","placeholder"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[r(l(e.errors.name),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[r(l(e.$t("core__category_photo_label")),1),re]),_:1}),t(C,null,{default:a(()=>[r(l(e.$t("core__be_recommended_size_400_200")),1)]),_:1}),t(w,{uploadType:"image",imageFile:e.form.cover,"onUpdate:imageFile":o[3]||(o[3]=m=>e.form.cover=m)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[r(l(e.errors.cover),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[r(l(e.$t("core__category_icon_label")),1),le]),_:1}),t(C,null,{default:a(()=>[r(l(e.$t("core__be_recommended_size_200_200")),1)]),_:1}),t(w,{class:"w-72",uploadType:"icon",imageFile:e.form.icon,"onUpdate:imageFile":o[4]||(o[4]=m=>e.form.icon=m)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[r(l(e.errors.icon),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[r(l(e.$t("core__status_label")),1)]),_:1}),t(B,{value:e.form.status,"onUpdate:value":o[5]||(o[5]=m=>e.form.status=m),class:"font-normal",title:e.$t("core__publish_label")},null,8,["value","title"])]),n("div",ne,[t(F,{onClick:o[6]||(o[6]=m=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:a(()=>[r(l(e.$t("core__be_btn_cancel")),1)]),_:1}),t(F,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[e.loading?(u(),b(x,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):f("",!0),e.success?(u(),b(L,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):f("",!0),e.success?(u(),b(i,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[r(l(e.$t("core__be_btn_saved")),1)]),_:1})):f("",!0),!e.loading&&!e.success?(u(),b(i,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[r(l(e.$t("core__be_btn_save")),1)]),_:1})):f("",!0)]),_:1})])])],32)])])]),_:1})]),_:1})],64)}var xe=Y(Z,[["render",me]]);export{xe as default};
