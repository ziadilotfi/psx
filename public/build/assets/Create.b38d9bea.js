import{d as E,H as j,aB as z,i as x,ab as N,ac as B,r as i,o as s,c as l,b as r,w as n,a as d,p as u,t as m,h as T,F as v,q as P,g as _,f as k,m as V,J as U}from"./app.17cd73cb.js";import{b as K,P as q,a as J,f as R,d as G}from"./PsLayout.dfd88468.js";import O from"./CheckBox.0cd71903.js";import{P as Q}from"./PsRadioValue.7f90f225.js";import{D as W}from"./DatePicker.55e143e0.js";import{P as X}from"./PsInput.1d284888.js";import{P as Y}from"./PsLabel.22ffb702.js";import{P as Z}from"./PsButton.e57c4d7d.js";import{P as F}from"./PsTextarea.a073ad3a.js";import{P as ee}from"./PsBreadcrumb2.49a3f56a.js";import{P as te}from"./PsCard.ad8f8108.js";import{P as oe}from"./PsLabelCaption.88f9aeab.js";import{P as se}from"./PsVideoUpload.78c651a5.js";import{P as ae}from"./PsLabelTitle3.d3f1b34d.js";import{P as re}from"./PsIcon.05949a2a.js";import{P as le}from"./PsLoading.6ac4d83e.js";import{P as ne}from"./PsCheckboxValue.e5e75bc0.js";import{a as ie,P as de}from"./PsActionModal.f014cce2.js";import{P as me}from"./PsImageUpload.30e55671.js";import{_ as ue}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.bee9bcb9.js";import"./PsInputWithRightIcon.1f31b4ee.js";import"./PsIcon1.1b6f6944.js";import"./PsDraggable.e6494ff8.js";import"./PsModal.8d00ec01.js";import"./PsLabelHeader4.58b3b4f9.js";const pe=E({name:"Edit",components:{Head:j,CheckBox:O,DatePicker:W,PsInput:X,PsRadioValue:Q,PsLabel:Y,PsButton:Z,PsTextarea:F,PsLabelHeader6:K,PsDropdown:q,PsDropdownSelect:J,PsCard:te,PsBreadcrumb2:ee,PsLabelCaption:oe,PsImageUpload:me,PsIcon:re,PsLoading:le,PsCheckboxValue:ne,PsActionModal:ie,PsImageIconModal:de,PsDangerDialog:R,PsVideoUpload:se,PsLabelTitle3:ae},layout:G,props:["errors","coreFieldFilterSettings","modules","customizeHeaders","customizeDetails","permissions"],setup(e){let o=z({name:"",description:"",permissions:[]});const h=x(!1),g=x(!1);let b=N([]);for(let a=0;a<e.modules.length;a++)b[e.modules[a].id]=[];let w=x(!1);function $(a){o.permissions[a]=b[a].toString()}function C(){this.$inertia.get(route("user_role.index"))}function S(){this.$inertia.post(route("user_role.store"),o,{forceFormData:!0,onBefore:()=>{h.value=!0},onSuccess:()=>{h.value=!1,g.value=!0,setTimeout(()=>{g.value=!1},2e3)},onError:()=>{h.value=!1}})}function c(){for(let a=0;a<e.modules.length;a++){for(let y=0;y<e.permissions.length;y++)w.value?b[e.modules[a].id][y]=e.permissions[y].id:b[e.modules[a].id]=[];o.permissions[e.modules[a].id]=b[e.modules[a].id].toString()}}return{handleUserMultiSelect:$,handleSubmit:S,toogleSelectAll:c,form:o,booleanPermission:b,selectAll:w,handleCancel:C,loading:h,success:g}},computed:{breadcrumb(){return[{label:B("core__be_dashboard_label"),url:route("admin.index")},{label:B("user_role_module"),url:route("user_role.index")},{label:B("core__be_add_user_role"),color:"text-primary-500"}]}}}),ce={class:"rounded-xl"},fe={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},_e={class:"px-4 pt-6 dark:bg-backgroundDark"},be={class:"grid w-full sm:w-1/2 gap-6"},ye={key:0,class:"text-red-800 font-medium ms-1"},he={key:0,class:"text-red-800 font-medium ms-1"},ve={class:"px-4 pb-6 flex flex-row justify-between items-center"},ge=u("Allow Modules"),Pe={class:"flex flex-row items-center"},ke=u("Select all "),we={class:"flex flex-row items-center"},$e=["onUpdate:modelValue","onChange","id","value"],Ce={class:"flex flex-row justify-end mb-2.5"},Se={key:2,class:"transition-all duration-300"},xe={key:3,class:""};function Be(e,o,h,g,b,w){const $=i("Head"),C=i("ps-breadcrumb-2"),S=i("ps-label-header-6"),c=i("ps-label"),a=i("ps-input"),y=i("ps-label-caption"),A=i("ps-textarea"),D=i("ps-button"),I=i("ps-loading"),L=i("ps-icon"),M=i("ps-card"),H=i("ps-layout");return s(),l(v,null,[r($,{title:e.$t("core__be_add_user_role")},null,8,["title"]),r(H,null,{default:n(()=>[r(C,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),r(M,{class:"w-full h-auto"},{default:n(()=>[d("div",ce,[d("div",fe,[r(S,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:n(()=>[u(m(e.$t("core__be_user_role_info")),1)]),_:1})]),d("div",_e,[d("form",{onSubmit:o[5]||(o[5]=T((...t)=>e.handleSubmit&&e.handleSubmit(...t),["prevent"]))},[d("div",be,[(s(!0),l(v,null,P(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="name"&&t.enable===1&&t.is_delete===0),(t,p)=>(s(),l("div",{key:p},[r(c,{class:"text-base"},{default:n(()=>[u(m(e.$t(t.label_name))+" ",1),(t.mandatory=1)?(s(),l("span",ye,"*")):_("",!0)]),_:2},1024),r(a,{ref_for:!0,ref:"name",type:"text",value:e.form.name,"onUpdate:value":o[0]||(o[0]=f=>e.form.name=f),placeholder:e.$t(t.placeholder),onKeyup:f=>t.mandatory==1?e.validateEmptyInput("name",e.form.name):"",onBlur:f=>t.mandatory==1?e.validateEmptyInput("name",e.form.name):""},null,8,["value","placeholder","onKeyup","onBlur"]),t.mandatory==1?(s(),k(y,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:n(()=>[u(m(e.errors.name),1)]),_:1})):_("",!0)]))),128)),(s(!0),l(v,null,P(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="description"&&t.enable===1&&t.is_delete===0),(t,p)=>(s(),l("div",{key:p},[r(c,{class:"text-base"},{default:n(()=>[u(m(e.$t(t.label_name))+" ",1),t.mandatory==1?(s(),l("span",he,"*")):_("",!0)]),_:2},1024),r(A,{rows:"4",value:e.form.description,"onUpdate:value":o[1]||(o[1]=f=>e.form.description=f),placeholder:e.$t(t.description)},null,8,["value","placeholder"]),t.mandatory==1?(s(),k(y,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:n(()=>[u(m(e.errors.description),1)]),_:1})):_("",!0)]))),128)),d("div",ve,[r(c,{class:"text-base font-medium"},{default:n(()=>[ge]),_:1}),d("div",Pe,[V(d("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.selectAll=t),onChange:o[3]||(o[3]=t=>e.toogleSelectAll()),class:"mr-2 border-1 border-secondary-200 rounded",type:"checkbox"},null,544),[[U,e.selectAll]]),r(c,{class:"text-base font-light"},{default:n(()=>[ke]),_:1})])]),d("div",null,[(s(!0),l(v,null,P(e.modules,t=>(s(),l("div",{class:"px-4 pb-5 flex flex-row justify-between items-center",key:t.id},[r(c,{class:"text-sm"},{default:n(()=>[u(m(e.$t(t.lang_key)),1)]),_:2},1024),d("div",we,[(s(!0),l(v,null,P(e.permissions,p=>(s(),l("div",{class:"flex flex-row mr-2 items-center",key:p.id},[V(d("input",{"onUpdate:modelValue":f=>e.booleanPermission[t.id]=f,onChange:f=>e.handleUserMultiSelect(t.id),class:"mr-2 border-1 border-secondary-200 rounded",type:"checkbox",id:p.id,value:p.id},null,40,$e),[[U,e.booleanPermission[t.id]]]),r(c,{class:"text-base font-light",for:p.id},{default:n(()=>[u(m(p.title),1)]),_:2},1032,["for"])]))),128))])]))),128))]),d("div",Ce,[r(D,{onClick:o[4]||(o[4]=t=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:n(()=>[u(m(e.$t("core__be_btn_cancel")),1)]),_:1}),r(D,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:n(()=>[e.loading?(s(),k(I,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):_("",!0),e.success?(s(),k(L,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):_("",!0),e.success?(s(),l("span",Se,m(e.$t("core__be_btn_saved")),1)):_("",!0),!e.loading&&!e.success?(s(),l("span",xe,m(e.$t("core__be_btn_save")),1)):_("",!0)]),_:1})])])],32)])])]),_:1})]),_:1})],64)}var tt=ue(pe,[["render",Be]]);export{tt as default};
