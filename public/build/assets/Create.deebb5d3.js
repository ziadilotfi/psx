import{az as G,aA as J,d as O,H as R,i as $,aB as Q,ac as W,r as b,o as m,c as y,b as o,w as l,a as u,p as s,t as a,h as X,F as z,q as h,m as k,v as g,n as Y,g as v,J as Z,S as x,f as I}from"./app.17cd73cb.js";import{b as ee,f as te,d as oe}from"./PsLayout.dfd88468.js";import{u as re}from"./Validators.52e283a4.js";import{P as ne}from"./PsInput.1d284888.js";import{P as le}from"./PsLabel.22ffb702.js";import{P as se}from"./PsButton.e57c4d7d.js";import{P as ae}from"./PsCard.ad8f8108.js";import{P as ie}from"./PsIcon.05949a2a.js";import{P as ue}from"./PsTextarea.a073ad3a.js";import{P as de}from"./PsLoading.6ac4d83e.js";import{P as pe}from"./PsCheckboxValue.e5e75bc0.js";import{a as me,P as ye}from"./PsActionModal.f014cce2.js";import{P as be}from"./PsBreadcrumb2.49a3f56a.js";import{P as ce}from"./PsLabelCaption.88f9aeab.js";import{_ as ve}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.bee9bcb9.js";import"./PsInputWithRightIcon.1f31b4ee.js";import"./PsModal.8d00ec01.js";import"./PsLabelHeader4.58b3b4f9.js";import"./PsIcon1.1b6f6944.js";import"./PsDraggable.e6494ff8.js";const ke=G(()=>J(()=>import("./GoogleMapPinPicker.58b9f2fc.js"),["assets/GoogleMapPinPicker.58b9f2fc.js","assets/index.0117fec4.js","assets/app.17cd73cb.js","assets/app.3d908103.css","assets/plugin-vue_export-helper.21dcd24c.js"])),ge=O({name:"Create",components:{Head:R,GoogleMapPinPicker:ke,PsInput:ne,PsLabel:le,PsButton:se,PsLabelHeader6:ee,PsCard:ae,PsTextarea:ue,PsIcon:ie,PsLoading:de,PsCheckboxValue:pe,PsActionModal:me,PsImageIconModal:ye,PsDangerDialog:te,PsBreadcrumb2:be,PsLabelCaption:ce},layout:oe,props:["errors","cityTableColumns","coreFieldFilterSettings","city_relation_errors","customizeHeaders","customizeDetails"],setup(e){const i=$(!1),w=$(!1),P=$(),E=$(),F=$(),{isEmpty:f,minLength:S,isLatitude:T,isLongitude:p,isNum:C}=re(),c=(n,d)=>{e.errors[n]=d?S(n,d,3):f(n,d),n=="name"&&(P.value.isError=e.errors.name!="")},B=(n,d)=>{e.errors[n]=d?T(n,d):f(n,d),n=="lat"&&(E.value.isError=e.errors.lat!="")},H=(n,d)=>{e.errors[n]=d?p(n,d):f(n,d),n=="lng"&&(F.value.isError=e.errors.lng!="")},U=(n,d,t="")=>{e.errors[n]=d?"":f(n,d,t)},L=(n,d,t="",q="")=>{e.errors[n]=d?C(n,d,q):f(n,d,t)},M=n=>{let d=n.keyCode?n.keyCode:n.which;(d<48||d>57)&&n.preventDefault()},D=n=>{let d=n.keyCode?n.keyCode:n.which;(d<48||d>57)&&d!==46&&d!==45&&n.preventDefault()};let _=Q({name:"",lat:"",lng:"",ordering:"",description:"",is_featured:!1,city_relation:{}});function A(){this.$inertia.post(route("city.store"),_,{forceFormData:!0,onBefore:()=>{i.value=!0},onSuccess:()=>{i.value=!1,w.value=!0,setTimeout(()=>{w.value=!1},2e3)},onError:()=>{i.value=!1,P.value.isError=e.errors.name!="",E.value.isError=e.errors.lat!="",F.value.isError=e.errors.lng!=""}})}function K(n){_.lat=n.latLng.lat(),_.lng=n.latLng.lng()}function V(n){n.mandatory===1&&U(n.name,_.city_relation[n.core_keys_id])}function N(n){n.mandatory===1&&L(n.name,_.custom_fields[n.core_keys_id],"The "+n.name.toLowerCase()+" field is required.","The "+n.name.toLowerCase()+" field only have number.")}return{validateLocationNameInput:c,validateLatitudeInput:B,validateLongitudeInput:H,validateEmptyInput:U,validateNumberInput:L,onlyNumber:M,onlyNumberWithCustom:D,form:_,handleSubmit:A,updateCoordinates:K,loading:i,success:w,name:P,lat:E,lng:F,handleCustomFieldNumberError:N,handleCustomFieldError:V}},computed:{breadcrumb(){return[{label:W("core__be_dashboard_label"),url:route("admin.index")},{label:W("city_module"),url:route("city.index")},{label:W("core__be_add_city"),color:"text-primary-500"}]},checkingCustomUi(e){return e.ui_type_id==="uit00001"&&e.enable===1&&e.is_delete===0}},methods:{handleMultiSelect({data:e,id:i}){this.form.custom_fields[i]=e.toString()},handleCancel(){this.$inertia.get(route("city.index"))}}}),Ce={class:"rounded-lg"},_e={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},fe={class:"px-4 pt-6 dark:bg-backgroundDark"},$e={class:"grid w-full sm:w-1/2 gap-6"},we=u("span",{class:"text-red-800 font-medium ms-1"},"*",-1),Pe=u("span",{class:"text-red-800 font-medium ms-1"},"*",-1),Ee=u("span",{class:"text-red-800 font-medium ms-1"},"*",-1),Fe={key:0,class:"mb-4"},Be={class:"text-red-800 font-medium ms-1"},Ue={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},Le={class:"pt-2 z-30"},De={key:0},Ke={key:1},ze=["onClick"],Ie={key:1,class:"mb-4"},Se=u("span",{class:"text-red-800 font-medium ms-1"},"*",-1),Te={key:2,class:"mb-4"},He={class:"text-red-800 font-medium ms-1"},Me={class:"flex flex-row"},Ae={key:3,class:"mb-4"},Ve={class:"flex flex-row"},Ne={class:"mr-2 flex"},We=["onUpdate:modelValue","onChange"],he={key:4,class:"mb-4"},qe={class:"text-red-800 font-medium ms-1"},je={key:5,class:"mb-4"},Ge={class:"text-red-800 font-medium ms-1"},Je={key:6,class:"mb-4"},Oe={class:"text-red-800 font-medium ms-1"},Re={key:7,class:"mb-4"},Qe=s("*"),Xe={class:"flex flex-row"},Ye={key:8,class:"mb-4"},Ze={class:"text-red-800 font-medium ms-1"},xe={key:9,class:"mb-4"},et={class:"text-red-800 font-medium ms-1"},tt=["onUpdate:modelValue"],ot={key:10,class:"mb-4"},rt={class:"text-red-800 font-medium ms-1"},nt={class:"mb-2.5 flex flex-row justify-end"};function lt(e,i,w,P,E,F){const f=b("Head"),S=b("ps-breadcrumb-2"),T=b("ps-label-header-6"),p=b("ps-label"),C=b("ps-input"),c=b("ps-label-caption"),B=b("ps-textarea"),H=b("google-map-pin-picker"),U=b("ps-dropdown-select"),L=b("ps-dropdown"),M=b("ps-radio-value"),D=b("date-picker"),_=b("CheckBox"),A=b("ps-image-upload"),K=b("ps-button"),V=b("ps-loading"),N=b("ps-icon"),n=b("ps-card"),d=b("ps-layout");return m(),y(z,null,[o(f,{title:e.$t("core__be_add_city")},null,8,["title"]),o(d,null,{default:l(()=>[o(S,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),o(n,{class:"w-full h-auto"},{default:l(()=>[u("div",Ce,[u("div",_e,[o(T,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:l(()=>[s(a(e.$t("core__city_info")),1)]),_:1})]),u("div",fe,[u("form",{onSubmit:i[13]||(i[13]=X((...t)=>e.handleSubmit&&e.handleSubmit(...t),["prevent"]))},[u("div",$e,[u("div",null,[o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t("core__be_city_name_label")),1),we]),_:1}),o(C,{type:"text",value:e.form.name,"onUpdate:value":i[0]||(i[0]=t=>e.form.name=t),placeholder:e.$t("core__be_city_name_placeholder"),onKeyup:i[1]||(i[1]=t=>e.validateLocationNameInput("name",e.form.name)),onBlur:i[2]||(i[2]=t=>e.validateLocationNameInput("name",e.form.name))},null,8,["value","placeholder"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.errors.name),1)]),_:1})]),u("div",null,[o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t("core__be_ordering_label")),1)]),_:1}),o(C,{type:"text",value:e.form.ordering,"onUpdate:value":i[3]||(i[3]=t=>e.form.ordering=t),placeholder:e.$t("core__be_ordering_placeholder"),onKeypress:e.onlyNumber},null,8,["value","placeholder","onKeypress"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.errors.ordering),1)]),_:1})]),u("div",null,[o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t("core__be_description_label")),1)]),_:1}),o(B,{rows:"3",value:e.form.description,"onUpdate:value":i[4]||(i[4]=t=>e.form.description=t),placeholder:e.$t("core__be_description_placeholder")},null,8,["value","placeholder"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.errors.description),1)]),_:1})]),u("div",null,[o(H,{lat:parseFloat(e.form.lat),lng:parseFloat(e.form.lng),widthHeight:"width: 458px; height: 500px",onChange:e.updateCoordinates},null,8,["lat","lng","onChange"])]),u("div",null,[o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t("core__be_latitude_label")),1),Pe]),_:1}),o(C,{type:"text",value:e.form.lat,"onUpdate:value":i[5]||(i[5]=t=>e.form.lat=t),placeholder:e.$t("core__be_latitude_placeholder"),onKeypress:e.onlyNumberWithCustom,onKeyup:i[6]||(i[6]=t=>e.validateLatitudeInput("lat",e.form.lat)),onBlur:i[7]||(i[7]=t=>e.validateLatitudeInput("lat",e.form.lat))},null,8,["value","placeholder","onKeypress"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.errors.lat),1)]),_:1})]),u("div",null,[o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t("core__be_longitude_label")),1),Ee]),_:1}),o(C,{type:"text",value:e.form.lng,"onUpdate:value":i[8]||(i[8]=t=>e.form.lng=t),placeholder:e.$t("core__be_longitude_placeholder"),onKeypress:e.onlyNumberWithCustom,onKeyup:i[9]||(i[9]=t=>e.validateLongitudeInput("lng",e.form.lng)),onBlur:i[10]||(i[10]=t=>e.validateLongitudeInput("lng",e.form.lng))},null,8,["value","placeholder","onKeypress"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.errors.lng),1)]),_:1})]),(m(!0),y(z,null,h(e.customizeHeaders,(t,q)=>(m(),y("div",{key:t.id},[t.ui_type_id==="uit00001"&&t.enable===1&&t.is_delete===0?(m(),y("div",Fe,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name)),1),k(u("span",Be,"*",512),[[g,t.mandatory==1]])]),_:2},1024),o(L,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:l(()=>[o(U,{ref_for:!0,ref:"currency",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:this.customizeDetails.filter(r=>r.id===this.form.city_relation[t.core_keys_id]).length>0?this.customizeDetails.filter(r=>r.id===this.form.city_relation[t.core_keys_id])[0].name:"",onChange:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t)},null,8,["placeholder","selectedValue","onChange","onBlur"])]),list:l(()=>[u("div",Ue,[u("div",Le,[e.customizeDetails.filter(r=>r.core_keys_id===t.core_keys_id).length===0?(m(),y("div",De,[o(p,{class:"p-2 flex",onClick:i[11]||(i[11]=r=>e.route("currency.index"))},{default:l(()=>[s("Create new "+a(e.$t(t.name)),1)]),_:2},1024)])):(m(),y("div",Ke,[(m(!0),y(z,null,h(e.customizeDetails.filter(r=>r.core_keys_id===t.core_keys_id),r=>(m(),y("div",{key:r.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:j=>[e.form.city_relation[t.core_keys_id]=r.id,e.validateEmptyInput("currency_id",e.form.city_relation[t.core_keys_id])]},[o(p,{class:Y(["ms-2",r.id==e.form.city_relation[t.core_keys_id]?" font-bold":""])},{default:l(()=>[s(a(r.name),1)]),_:2},1032,["class"])],8,ze))),128))]))])])]),_:2},1024),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00002"&&t.enable===1&&t.is_delete===0?(m(),y("div",Ie,[k(o(p,{class:"text-base mb-2"},{default:l(()=>[s(a(e.$t(t.name)),1),Se]),_:2},1536),[[g,t.mandatory==1]]),o(C,{type:"text",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.city_relation[t.core_keys_id],"onUpdate:value":r=>e.form.city_relation[t.core_keys_id]=r,onKeyup:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00003"&&t.enable===1&&t.is_delete===0?(m(),y("div",Te,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",He,"*",512),[[g,t.mandatory===1]])]),_:2},1024),u("div",Me,[(m(!0),y(z,null,h(e.customizeDetails.filter(r=>r.core_keys_id===t.core_keys_id),r=>(m(),y("div",{class:"mr-2",key:r.id},[o(M,{color:"text-purple-600 border-purple-300",value:e.form.city_relation[t.core_keys_id],"onUpdate:value":j=>e.form.city_relation[t.core_keys_id]=j,title:r.name},null,8,["value","onUpdate:value","title"]),o(p,{for:r.id},{default:l(()=>[s(a(r.attribute),1)]),_:2},1032,["for"])]))),128))]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00004"&&t.enable===1&&t.is_delete===0?(m(),y("div",Ae,[u("div",Ve,[u("div",Ne,[k(u("input",{type:"checkbox",class:"rounded border",value:"0","onUpdate:modelValue":r=>e.form.city_relation[t.core_keys_id]=r,onChange:r=>e.handleCustomFieldError(t)},null,40,We),[[Z,e.form.city_relation[t.core_keys_id]]]),o(p,{class:"ms-2"},{default:l(()=>[s(a(e.$t(t.name)),1)]),_:2},1024)])]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00005"&&t.enable===1&&t.is_delete===0?(m(),y("div",he,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",qe,"*",512),[[g,t.mandatory===1]])]),_:2},1024),u("div",null,[o(D,{value:e.form.city_relation[t.core_keys_id],"onUpdate:value":r=>e.form.city_relation[t.core_keys_id]=r,onKeyup:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t),enableTimePicker:!0,inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00006"&&t.enable===1&&t.is_delete===0?(m(),y("div",je,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",Ge,"*",512),[[g,t.mandatory===1]])]),_:2},1024),o(B,{rows:"4",placeholder:e.$t(t.placeholder),value:e.form.city_relation[t.core_keys_id],"onUpdate:value":r=>e.form.city_relation[t.core_keys_id]=r,onKeyup:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00007"&&t.enable===1&&t.is_delete===0?(m(),y("div",Je,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",Oe,"*",512),[[g,t.mandatory===1]])]),_:2},1024),o(C,{type:"number",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.city_relation[t.core_keys_id],"onUpdate:value":r=>e.form.city_relation[t.core_keys_id]=r,onKeyup:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00008"&&t.enable===1&&t.is_delete===0?(m(),y("div",Re,[o(p,null,{default:l(()=>[k(o(p,{class:"text-red-800 font-medium me-1"},{default:l(()=>[Qe]),_:2},1536),[[g,t.mandatory==1]]),s(a(e.$t(t.name)),1)]),_:2},1024),u("div",Xe,[o(_,{oldData:e.form.custom_fields[t.id],onToParent:e.handleMultiSelect,customizeDetails:e.custom_field_details,customizeHeader:t},null,8,["oldData","onToParent","customizeDetails","customizeHeader"])]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00009"&&t.enable===1&&t.is_delete===0?(m(),y("div",Ye,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",Ze,"*",512),[[g,t.mandatory===1]])]),_:2},1024),o(A,{uploadType:"image",imageFile:e.form.city_relation[t.core_keys_id],"onUpdate:imageFile":r=>e.form.city_relation[t.core_keys_id]=r},null,8,["imageFile","onUpdate:imageFile"]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00010"&&t.enable===1&&t.is_delete===0?(m(),y("div",xe,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",et,"*",512),[[g,t.mandatory===1]])]),_:2},1024),k(u("input",{type:"time",class:"w-full rounded","onUpdate:modelValue":r=>e.form.city_relation[t.core_keys_id]=r},null,8,tt),[[x,e.form.city_relation[t.core_keys_id]]]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0),t.ui_type_id==="uit00011"&&t.enable===1&&t.is_delete===0?(m(),y("div",ot,[o(p,{class:"text-base"},{default:l(()=>[s(a(e.$t(t.name))+" ",1),k(u("span",rt,"*",512),[[g,t.mandatory===1]])]),_:2},1024),u("div",null,[o(D,{value:e.form.city_relation[t.core_keys_id],"onUpdate:value":r=>e.form.city_relation[t.core_keys_id]=r,onKeyup:r=>e.handleCustomFieldError(t),onBlur:r=>e.handleCustomFieldError(t),inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(c,{textColor:"text-red-500 ",class:"mt-2 block"},{default:l(()=>[s(a(e.city_relation_errors&&e.city_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):v("",!0)]))),128)),u("div",nt,[o(K,{onClick:i[12]||(i[12]=t=>e.handleCancel()),textSize:"text-sm",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:l(()=>[s(a(e.$t("core__be_btn_cancel")),1)]),_:1}),o(K,{class:"transition-all duration-300 min-w-3xs",padding:"px-5 py-2",rounded:"rounded",hover:"",focus:""},{default:l(()=>[e.loading?(m(),I(V,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):v("",!0),e.success?(m(),I(N,{key:1,name:"check",viewBox:"0 0 18 14",w:"14",h:"10",class:"me-1.5 transition-all duration-300"})):v("",!0),e.success?(m(),I(p,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:l(()=>[s(a(e.$t("core__be_btn_saved")),1)]),_:1})):v("",!0),!e.loading&&!e.success?(m(),I(p,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:l(()=>[s(a(e.$t("core__be_btn_save")),1)]),_:1})):v("",!0)]),_:1})])])],32)])])]),_:1})]),_:1})],64)}var Bt=ve(ge,[["render",lt]]);export{Bt as default};
