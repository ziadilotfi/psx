import{e as pe,f as me,P as _e,a as fe,d as he}from"./PsLayout.dfd88468.js";import{d as be,H as ge,i as o,ac as h,C as ye,ag as G,r as b,o as n,c as m,b as s,w as a,a as u,p as d,t as c,f as I,g,F as j,q as L,n as V}from"./app.17cd73cb.js";import{P as ve}from"./PsButton.e57c4d7d.js";import{P as ke}from"./PsBannerIcon.71d1b60f.js";import{P as Oe}from"./PsBreadcrumb2.49a3f56a.js";import{P as we}from"./PsIcon.05949a2a.js";import{D as Ce}from"./PsTableSearch.4ca5ffa6.js";import{P as Se}from"./PsIconButton.af329d7a.js";import{P as De}from"./PsLabel.22ffb702.js";import{P as $e}from"./PsLink1.148ec573.js";import{b as Fe}from"./PsModal.bee9bcb9.js";import{P as Pe}from"./PsTable2.559b3bb1.js";import{P as Te}from"./PsBadge.b81aaf9e.js";import{D as Ie}from"./DatePicker.55e143e0.js";import{g as je,f as Ve,h as He,i as Be}from"./psApiService.215afa15.js";import{_ as Re}from"./plugin-vue_export-helper.21dcd24c.js";import{P as Ue}from"./PsInputWithRightIcon.1f31b4ee.js";import"./PsIcon1.1b6f6944.js";import"./moment.9709ab41.js";const ze=be({name:"Index",components:{Head:ge,PsButton:ve,PsTextButton:pe,PsBannerIcon:ke,PsBreadcrumb2:Oe,PsDangerDialog:me,PsIcon:we,PsDropdown:_e,PsDropdownSelect:fe,Dropdown:Ce,PsIconButton:Se,PsLabel:De,PsLink1:$e,PsToggle:Fe,PsTable2:Pe,PsBadge:Te,DatePicker:Ie,PsInputWithRightIcon:Ue},layout:he,props:{status:Object,items:Object,categories:Object,subcategories:Object,customizeHeaders:Object,customizeDetails:Object,cities:Object,townships:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,selectedCategory:{type:String,default:""},selectedDealOption:{type:String,default:""},selectedItemType:{type:String,default:""},selectedPurchaseOption:{type:String,default:""},selectedDate:{type:String,default:""},authUser:Object,uis:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},search:String,itmPurchasedOption:String,itmDealOption:String,itmConditionOfItem:String,itmItemType:String},setup(e){let i=o(!1);const H=o(!0),N=e.selectedCategory||e.selectedSubcategory||e.selectedCity||e.selectedTownship?o(!0):o(!1),q=o(!1);let B=e.search?o(e.search):o(""),R=e.sort_field?o(e.sort_field):o(""),U=e.sort_order?o(e.sort_order):o("desc"),y=e.selectedCategory?o(e.selectedCategory.id):o(""),S=e.selectedDealOption?o(e.selectedDealOption.id):o(""),$=e.selectedPurchaseOption?o(e.selectedPurchaseOption.id):o(""),k=e.selectedItemType?o(e.selectedItemType.id):o(""),p=e.selectedDate?o(e.selectedDate):o(""),D=o([]),C=o(!1),T=o(),f=o(!1),F=o([]),P=o(!1),t=o(),O=o([]),z=o(!1),J=o(),A=o([]),E=o(!1),K=o();const M=o(),Q=[{label:h("core__be_buyer_name"),field:"buyer_user_id@@name",type:"String"},{label:h("core__be_seller_name"),field:"seller_user_id@@name",type:"String"},{label:h("core__be_item_name"),field:"title",type:"String"},{label:h("core__be_categories"),field:"category_id@@name",type:"String"},{label:h("core__be_item_price_title"),field:"price",type:"String"},{label:h("core__be_offer_amount"),field:"offer_amount",type:"String"},{label:h("core__be_purchased_option"),field:e.itmPurchasedOption+"@@name",type:"String"},{label:h("core__be_item_type"),field:e.itmItemType+"@@name",type:"String"},{label:h("core__be_deal_option"),field:e.itmDealOption+"@@name",type:"String",action:"Action"},{label:h("core__be_date"),field:"added_date",type:"Timestamp"},{label:h("detail_label"),field:"detail",type:"Action"}];function X(r){R.value=r.field,U.value=r.sort_order,v()}function Y(){y.value="all",k.value="all",S.value="all",$.value="all",p.value="",B="",v(),H.value=!1,setTimeout(()=>{H.value=!0},100)}function Z(r){y.value=r,v(1)}function x(r){k.value=r,v(1)}function ee(r){S.value=r,v(1)}function te(r){$.value=r,v(1)}function le(r){p.value=r,v(1)}function re(r){B.value=r,v(1)}function ae(r){v(1,r)}function v(r=null,l=null){G.Inertia.get(route("successful_deal_count_report.index"),{sort_field:R.value,sort_order:U.value,page:r!=null?r:e.items.meta.current_page,row:l!=null?l:e.items.meta.per_page,search:B.value,category_filter:y.value,item_type_filter:k.value,deal_option_filter:S.value,purchase_option_filter:$.value,date_filter:p.value},{preserveScroll:!0,preserveState:!0})}function W(r){C.value=!0,f.value=!0,je(r,T.value,e.authUser.id).then(l=>{l.data.length?l.data.forEach(w=>{D.value.push(w)}):C.value=!1,f.value=!1})}function oe(r=null){let l=D.value?D.value.length:0;(l==0||r==!0)&&W(l)}ye(T,_.debounce((r,l)=>{let w=0;D.value=[],W(w)},500));function se(r){P.value=!0,f.value=!0,Ve(r,e.authUser.id).then(l=>{l.data.length?l.data.forEach(w=>{F.value.push(w)}):P.value=!1,f.value=!1}).catch(function(l){l&&(f.value=!1,P.value=!1)})}function ie(r=null){let l=F.value?F.value.length:0;(l==0||r==!0)&&se(l)}function ne(r){z.value=!0,f.value=!0,He(r,e.authUser.id).then(l=>{l.data.length?l.data.forEach(w=>{O.value.push(w)}):z.value=!1,f.value=!1}).catch(function(l){l&&(f.value=!1,z.value=!1)})}function de(r=null){let l=O.value?O.value.length:0;(l==0||r==!0)&&ne(l)}function ce(r){E.value=!0,f.value=!0,Be(r,e.authUser.id).then(l=>{l.data.length?l.data.forEach(w=>{A.value.push(w)}):E.value=!1,f.value=!1}).catch(function(l){l&&(f.value=!1,E.value=!1)})}function ue(r=null){let l=A.value?A.value.length:0;(l==0||r==!0)&&ce(l)}return{reRenderDate:H,showFilter:N,clearFilter:q,columns:Q,colFilterOptions:M,visible:i,handleSorting:X,handleSearchingSorting:v,handleCategoryfilter:Z,handleDealOptionFilter:ee,handleItemTypeFilter:x,handlePurchaseOptionFilter:te,handleDateFilter:le,handleClearFilter:Y,handleRow:ae,handleSearching:re,selected_cat:y,selected_item_type:k,selected_deal_option:S,selected_purchase_option:$,selected_date:p,is_loading:f,dropdownClick:oe,categories:D,category_loadmore_visible:C,catSearch:T,purchaseOptions:F,purchaseOptions_loadmore_visible:P,purchaseOptionsSearch:t,purchaseOptionDropdownClick:ie,dealOptions:O,dealOptions_loadmore_visible:z,dealOptionsSearch:J,dealOptionDropdownClick:de,itemTypeOptions:A,itemTypeOptions_loadmore_visible:E,itemTypeOptionsSearch:K,itemTypeOptionDropdownClick:ue}},created(){},methods:{handleDetail(e){this.$inertia.get(route("successful_deal_count_report.show",e))},FilterOptionshandle(e){G.Inertia.put(route("successful_deal_count_report.screenDisplayUiSetting.store"),{value:e,sort_field:this.sort_field,sort_order:this.sort_order,row:this.items.per_page,search:this.search.value,current_page:this.items.current_page},{preserveScroll:!0,preserveState:!0})}},computed:{breadcrumb(){return[{label:h("core__be_dashboard_label"),url:route("admin.index")},{label:h("successful_deal_count_report_module"),color:"text-primary-500"}]}}}),Ae=["href"],Ee={class:"rounded-md shadow-xs w-56"},Le={class:"pt-2 z-30"},Ne=["onClick"],qe={class:"flex flex-row items-center justify-between"},We={class:"mt-1 mx-1"},Ge={class:"rounded-md shadow-xs w-56"},Je={class:"pt-2 z-30"},Ke=["onClick"],Me={class:"flex flex-row items-center justify-between"},Qe={class:"rounded-md shadow-xs w-56"},Xe={class:"pt-2 z-30"},Ye=["onClick"],Ze={class:"flex flex-row items-center justify-between"},xe={class:"rounded-md shadow-xs w-56"},et={class:"pt-2 z-30"},tt=["onClick"],lt={class:"flex flex-row items-center justify-between"},rt={key:0},at={key:1},ot={key:2},st={key:3,class:"flex flex-row mb-2"};function it(e,i,H,N,q,B){const R=b("Head"),U=b("ps-breadcrumb-2"),y=b("ps-icon"),S=b("ps-text-button"),$=b("ps-icon-button"),k=b("ps-dropdown-select"),p=b("ps-label"),D=b("ps-input-with-right-icon"),C=b("ps-dropdown"),T=b("date-picker"),f=b("ps-badge"),F=b("ps-table2"),P=b("ps-layout");return n(),m(j,null,[s(R,{title:e.$t("successful_deal_count_report_module")},null,8,["title"]),s(P,null,{default:a(()=>[s(U,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),s(F,{":row":e.row,search:e.search,object:this.items,colFilterOptions:e.colFilterOptions,columns:e.columns,sort_field:e.sort_field,sort_order:e.sort_order,globalSearchPlaceholder:e.$t("core__be_search_user_name"),onFilterOptionshandle:e.FilterOptionshandle,onHandleSort:e.handleSorting,onHandleSearch:e.handleSearching,onHandleRow:e.handleRow,searchable:e.showFilter,eye_filter:!1},{searchLeft:a(()=>[u("a",{href:e.route("successful_deal_count_report.csv.export"),class:"font-medium transition duration-150 ease-in-out px-4 py-1.75 ms-1 rounded text-primary-500 border border-primary-500 hover:outline-none hover:ring hover:ring-blue-100 focus:outline-none focus:ring focus:ring-blue-300 opacity-100 flex items-center"},[s(y,{name:"fileUpload",class:"me-2 font-semibold"}),d(c(e.$t("core__be_export_btn")),1)],8,Ae)]),searchRight:a(()=>[e.showFilter?(n(),I(S,{key:0,onClick:i[0]||(i[0]=t=>e.handleClearFilter()),class:"flex text-sm items-center text-red-400 dark:text-red-400",padding:"py-1 px-4"},{default:a(()=>[s(y,{theme:"dark:text-red-400",name:"cross",class:"me-3"}),d(" "+c(e.$t("core__be_clear_filter")),1)]),_:1})):g("",!0),s($,{colors:e.showFilter?"bg-primary-500 text-white dark:text-secondary-800":"",focus:"",padding:"py-1 px-4",hover:"hover:bg-primary-500 hover:text-white",border:e.showFilter?"border border-primary-500":" border border-secondary-200",leftIcon:"filter",onClick:i[1]||(i[1]=t=>e.showFilter=!e.showFilter)},{default:a(()=>[d(c(e.$t("core__be_filter")),1)]),_:1},8,["colors","border"])]),Filter:a(()=>[s(C,{onOnClick:e.dropdownClick,align:"",class:"h-10"},{select:a(()=>[s(k,{placeholder:e.$t("core__be_category"),border:e.selected_cat!==""&&e.selected_cat!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_cat==""||e.selected_cat=="all"?"":e.selectedCategory.name},null,8,["placeholder","border","selectedValue"])]),list:a(()=>[u("div",Ee,[u("div",Le,[u("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:i[2]||(i[2]=t=>e.handleCategoryfilter("all"))},[s(p,{class:"text-gray-200 ms-2"},{default:a(()=>[d(c(e.$t("core__be_select_all")),1)]),_:1})]),(n(!0),m(j,null,L(e.categories,t=>(n(),m("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:O=>e.handleCategoryfilter(t.id)},[s(p,{class:V(["ms-2",t.id==e.selected_cat?" font-bold":""])},{default:a(()=>[d(c(t.name),1)]),_:2},1032,["class"])],8,Ne))),128))])])]),loadmore:a(()=>[e.category_loadmore_visible?(n(),m("div",{key:0,onClick:i[3]||(i[3]=t=>e.dropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[u("div",qe,[s(p,{class:"ms-2"},{default:a(()=>[d(c(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),s(y,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):g("",!0)]),filter:a(()=>[u("div",We,[s(D,{class:"w-full h-10",theme:"bg-gray-100",rounded:"rounded-lg",value:e.catSearch,"onUpdate:value":i[4]||(i[4]=t=>e.catSearch=t),placeholder:e.$t("core__be_search")},{icon:a(()=>[s(y,{name:"search",class:"cursor-pointer"})]),_:1},8,["value","placeholder"])])]),_:1},8,["onOnClick"]),s(C,{onOnClick:e.itemTypeOptionDropdownClick,align:"",class:"h-10"},{select:a(()=>[s(k,{placeholder:e.$t("core__be_item_type"),border:e.selected_item_type!==""&&e.selected_item_type!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_item_type==""||e.selected_item_type=="all"?"":e.selectedItemType.name},null,8,["placeholder","border","selectedValue"])]),list:a(()=>[u("div",Ge,[u("div",Je,[u("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:i[5]||(i[5]=t=>e.handleItemTypeFilter("all"))},[s(p,{class:"text-gray-200 ms-2"},{default:a(()=>[d(c(e.$t("core__be_select_all")),1)]),_:1})]),(n(!0),m(j,null,L(e.itemTypeOptions,t=>(n(),m("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:O=>e.handleItemTypeFilter(t.id)},[s(p,{class:V(["ms-2",t.id==e.selected_item_type?" font-bold":""])},{default:a(()=>[d(c(t.name),1)]),_:2},1032,["class"])],8,Ke))),128))])])]),loadmore:a(()=>[e.itemTypeOptions_loadmore_visible?(n(),m("div",{key:0,onClick:i[6]||(i[6]=t=>e.itemTypeOptionDropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[u("div",Me,[s(p,{class:"ms-2"},{default:a(()=>[d(c(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),s(y,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):g("",!0)]),_:1},8,["onOnClick"]),s(C,{onOnClick:e.purchaseOptionDropdownClick,align:"",class:"h-10"},{select:a(()=>[s(k,{placeholder:e.$t("core__be_purchased_option"),border:e.selected_purchase_option!==""&&e.selected_purchase_option!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_purchase_option==""||e.selected_purchase_option=="all"?"":e.selectedPurchaseOption.name},null,8,["placeholder","border","selectedValue"])]),list:a(()=>[u("div",Qe,[u("div",Xe,[u("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:i[7]||(i[7]=t=>e.handlePurchaseOptionFilter("all"))},[s(p,{class:"text-gray-200 ms-2"},{default:a(()=>[d(c(e.$t("core__be_select_all")),1)]),_:1})]),(n(!0),m(j,null,L(e.purchaseOptions,t=>(n(),m("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:O=>e.handlePurchaseOptionFilter(t.id)},[s(p,{class:V(["ms-2",t.id==e.selected_purchase_option?" font-bold":""])},{default:a(()=>[d(c(t.name),1)]),_:2},1032,["class"])],8,Ye))),128))])])]),loadmore:a(()=>[e.purchaseOptions_loadmore_visible?(n(),m("div",{key:0,onClick:i[8]||(i[8]=t=>e.purchaseOptionDropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[u("div",Ze,[s(p,{class:"ms-2"},{default:a(()=>[d(c(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),s(y,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):g("",!0)]),_:1},8,["onOnClick"]),s(C,{onOnClick:e.dealOptionDropdownClick,align:"",class:"h-10"},{select:a(()=>[s(k,{placeholder:e.$t("core__be_deal_option"),border:e.selected_deal_option!==""&&e.selected_deal_option!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_deal_option==""||e.selected_deal_option=="all"?"":e.selectedDealOption.name},null,8,["placeholder","border","selectedValue"])]),list:a(()=>[u("div",xe,[u("div",et,[u("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:i[9]||(i[9]=t=>e.handleDealOptionFilter("all"))},[s(p,{class:"text-gray-200 ms-2"},{default:a(()=>[d(c(e.$t("core__be_select_all")),1)]),_:1})]),(n(!0),m(j,null,L(e.dealOptions,t=>(n(),m("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:O=>e.handleDealOptionFilter(t.id)},[s(p,{class:V(["ms-2",t.id==e.selected_purchase_option?" font-bold":""])},{default:a(()=>[d(c(t.name),1)]),_:2},1032,["class"])],8,tt))),128))])])]),loadmore:a(()=>[e.dealOptions_loadmore_visible?(n(),m("div",{key:0,onClick:i[10]||(i[10]=t=>e.dealOptionDropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[u("div",lt,[s(p,{class:"ms-2"},{default:a(()=>[d(c(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),s(y,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):g("",!0)]),_:1},8,["onOnClick"]),e.reRenderDate?(n(),I(T,{key:0,placeholder:e.$t("core__be_select_date"),onDatepick:e.handleDateFilter,class:V(["rounded shadow-sm pt-0.5 focus:outline-none focus:ring-1 focus:ring-primary-500",(e.selected_date==null||e.selected_date=="","w-full")]),value:e.selected_date,"onUpdate:value":i[11]||(i[11]=t=>e.selected_date=t),range:!0,inline:!1,autoApply:!1},null,8,["placeholder","onDatepick","class","value"])):g("",!0)]),tableRow:a(t=>[t.field==e.itmPurchasedOption+"@@name"?(n(),m("span",rt,[t.row[e.itmPurchasedOption+"@@name"]?(n(),I(f,{key:0,class:"m-2"},{default:a(()=>[d(c(t.row[e.itmPurchasedOption+"@@name"]),1)]),_:2},1024)):g("",!0)])):g("",!0),t.field==e.itmItemType+"@@name"?(n(),m("span",at,[t.row[e.itmItemType+"@@name"]?(n(),I(f,{key:0,theme:"text-red-500 bg-red-100",class:"m-2"},{default:a(()=>[d(c(t.row[e.itmItemType+"@@name"]),1)]),_:2},1024)):g("",!0)])):g("",!0),t.field==e.itmConditionOfItem+"@@name"?(n(),m("span",ot,[t.row[e.itmConditionOfItem+"@@name"]?(n(),I(f,{key:0,theme:"text-red-500 bg-red-100",class:"m-2"},{default:a(()=>[d(c(t.row[e.itmConditionOfItem+"@@name"]),1)]),_:2},1024)):g("",!0)])):g("",!0),t.field=="detail"?(n(),m("div",st,[s(S,{onClick:O=>e.handleDetail(t.row.id)},{default:a(()=>[d(c(e.$t("core__be_btn_detail")),1)]),_:2},1032,["onClick"])])):g("",!0)]),_:1},8,[":row","search","object","colFilterOptions","columns","sort_field","sort_order","globalSearchPlaceholder","onFilterOptionshandle","onHandleSort","onHandleSearch","onHandleRow","searchable"])]),_:1})],64)}var $t=Re(ze,[["render",it]]);export{$t as default};
