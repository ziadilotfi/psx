import{d as S,H as z,i as w,ab as E,ac as c,r,ai as M,o as _,c as u,b as o,w as l,a,p as i,t as d,f as j,g as V,F as I,q as F,m as v,J as H,ag as x,aB as R}from"./app.17cd73cb.js";import{f as q,b as J,g as W,c as G,e as K,d as O}from"./PsLayout.dfd88468.js";import{P as Q}from"./PsLabel.22ffb702.js";import{P as X}from"./PsButton.e57c4d7d.js";import{P as Y}from"./PsAlert.28e258d7.js";import{P as Z}from"./PsBreadcrumb2.49a3f56a.js";import{P as ee}from"./PsIcon.05949a2a.js";import{P as te}from"./PsBannerIcon.71d1b60f.js";import{P as oe}from"./PsActivity.a438cb57.js";import{h as se}from"./moment.9709ab41.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.bee9bcb9.js";import"./PsInputWithRightIcon.1f31b4ee.js";import"./PsIcon1.1b6f6944.js";const le=S({name:"Index",components:{Head:z,PsLabel:Q,PsButton:X,PsAlert:Y,PsBreadcrumb2:Z,PsDangerDialog:q,PsIcon:ee,PsBannerIcon:te,PsLabelHeader6:J,PsActivity:oe,PsWarningDialog:W,PsLabelCaption3:G,PsTextButton:K},layout:O,data(){return{moment:se}},props:["can","contacts","checkPermission","defaultProfileImg"],setup(e){const n=w(),b=w(!1);let f=E([]);for(let s=0;s<e.contacts.length;s++)f[e.contacts[s].id]=!1;const k=w();let P=w(!1);function C(){for(let s=0;s<e.contacts.length;s++)P.value==!1?f[e.contacts[s].id]=!1:f[e.contacts[s].id]=!0}function $(){k.value.openModal(c("core__warning"),c("core__comfirm_to_mark_as_read"),c("core__be_btn_confirm"),c("core__be_btn_cancel"),()=>{x.Inertia.put(route("contact.allasread"))},()=>{})}function D(s){x.Inertia.get(route("contact.edit",s))}function h(){let s=[];for(let m=0;m<e.contacts.length;m++)f[e.contacts[m].id]==!0&&s.push(e.contacts[m].id);let y=R({ids:s});n.value.openModal(c("core__delete"),c("core__comfirm_to_delete_contact_multiple"),c("core__be_btn_confirm"),c("core__be_btn_cancel"),()=>{x.Inertia.delete(route("contact.multiDelete",y)),b.value=!b.value},()=>{})}return{clickDelete:h,booleanContacts:f,toogleSelectAll:C,selectAll:P,showDelete:b,goToDetail:D,ps_danger_dialog:n,makeAllRead:$,ps_warning_dialog:k}},methods:{handleDetail(e){this.$inertia.get(route("contact.show",e))}},computed:{breadcrumb(){return[{label:c("core__be_dashboard_label"),url:route("admin.index")},{label:c("contact_us_message_module"),color:"text-primary-500"}]}}}),ne={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 mb-6 rounded-t-xl"},re={key:0},ie={class:"flex justify-end mb-4"},de={class:"flex"},ce={class:"flex"},me={class:"bg-red-400 text-white p-1 rounded-lg"},_e={class:"h-8 w-8 sm:w-12 sm:h-12"},pe={class:"w-full ms-4"},ue={class:"flex justify-between text-sm"},fe={key:1},ge={class:"flex justify-between mb-4"},be={class:"flex flex-row items-center"},he={class:"flex flex-row"},ye=["onUpdate:modelValue"],we={class:"h-8 w-8 sm:w-12 sm:h-12"},ve={class:"w-full ms-4"},ke={class:"flex justify-between text-sm"};function Pe(e,n,b,f,k,P){const C=r("Head"),$=r("ps-breadcrumb-2"),D=r("ps-label-header6"),h=r("ps-icon"),s=r("ps-label"),y=r("ps-text-button"),m=r("ps-label-caption-3"),A=r("ps-activity"),B=r("ps-button"),L=r("ps-danger-dialog"),T=r("ps-warning-dialog"),N=r("ps-layout"),U=M("lazy");return _(),u(I,null,[o(C,{title:e.$t("contact_us_message_module")},null,8,["title"]),o(N,null,{default:l(()=>[o($,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),a("div",ne,[o(D,null,{default:l(()=>[i(d(e.$t("core__be_messages")),1)]),_:1})]),e.showDelete?(_(),u("div",fe,[a("div",ge,[a("div",be,[v(a("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>e.selectAll=t),onChange:n[3]||(n[3]=t=>e.toogleSelectAll()),class:"mr-2 border-1 border-primary-500 rounded-full",type:"checkbox"},null,544),[[H,e.selectAll]]),o(s,{class:"text-base font-light",textColor:"text-primary-500"},{default:l(()=>[i(d(e.$t("core__be_select_all")),1)]),_:1})]),a("div",he,[o(B,{onClick:n[4]||(n[4]=t=>e.showDelete=!e.showDelete),textSize:"text-sm",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:l(()=>[i(d(e.$t("core__be_btn_cancel")),1)]),_:1}),o(B,{onClick:e.clickDelete,class:"transition-all duration-300 min-w-3xs",colors:"bg-red-500 text-white",padding:"px-5 py-2",rounded:"rounded",hover:"",focus:""},{default:l(()=>[i(d(e.$t("btn_delete")),1)]),_:1},8,["onClick"])])]),(_(!0),u(I,null,F(e.contacts,t=>(_(),u("div",{key:t.id,class:"cursor-pointer flex flex-row items-center justify-center"},[o(A,{onClick:p=>e.booleanContacts[t.id]=!e.booleanContacts[t.id],theme:t.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var p;return[v(a("input",{"onUpdate:modelValue":g=>e.booleanContacts[t.id]=g,class:"mr-2 border-1 border-secondary-200 rounded",type:"checkbox"},null,8,ye),[[H,e.booleanContacts[t.id]]]),a("div",we,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:n[5]||(n[5]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((p=t.owner)==null?void 0:p.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",ve,[a("span",ke,[o(s,{class:"text-sm lg:text-base"},{default:l(()=>[i(d(t.contact_name),1)]),_:2},1024),o(m,null,{default:l(()=>[i(d(e.moment(t.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),o(m,null,{default:l(()=>[i("by: "+d(t.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])):(_(),u("div",re,[a("div",ie,[e.can.updateContact?(_(),j(y,{key:0,onClick:e.makeAllRead,padding:"p-1.5"},{default:l(()=>[a("div",de,[o(h,{name:"right",class:"mt-1.5",fillone:"#6366F1"}),o(s,{class:"ms-1 my-auto cursor-pointer",textColor:"text-primary-500"},{default:l(()=>[i(d(e.$t("core__be_mark_all_as_read")),1)]),_:1})])]),_:1},8,["onClick"])):V("",!0),e.can.deleteContact?(_(),j(y,{key:1,onClick:n[0]||(n[0]=t=>e.showDelete=!e.showDelete),padding:"p-1.5"},{default:l(()=>[a("div",ce,[a("span",me,[o(h,{name:"trash",w:"16",h:"16"})]),o(s,{class:"ms-1 my-auto",textColor:"text-primary-500"},{default:l(()=>[i(d(e.$t("btn_delete")),1)]),_:1})])]),_:1})):V("",!0)]),(_(!0),u(I,null,F(e.contacts,t=>(_(),u("div",{key:t.id,class:"cursor-pointer"},[o(A,{onClick:p=>e.goToDetail(t.id),theme:t.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var p;return[a("div",_e,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:n[1]||(n[1]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((p=t.owner)==null?void 0:p.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",pe,[a("span",ue,[o(s,{class:"text-sm lg:text-base"},{default:l(()=>[i(d(t.contact_name),1)]),_:2},1024),o(m,null,{default:l(()=>[i(d(e.moment(t.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),o(m,null,{default:l(()=>[i("by: "+d(t.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])),o(L,{ref:"ps_danger_dialog"},null,512),o(T,{ref:"ps_warning_dialog"},null,512)]),_:1})],64)}var Ne=ae(le,[["render",Pe]]);export{Ne as default};
