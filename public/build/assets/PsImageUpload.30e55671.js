import{P as I}from"./PsButton.e57c4d7d.js";import{P as B}from"./PsLabel.22ffb702.js";import{P as F}from"./PsLabelTitle3.d3f1b34d.js";import{P as N}from"./PsIcon.05949a2a.js";import{P as S}from"./PsIcon1.1b6f6944.js";import{P as z}from"./PsDraggable.e6494ff8.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";import{ab as j,i as v,r,o as d,c as C,b as p,w as l,f as u,p as c,t as o,a as g,n as V,g as D}from"./app.17cd73cb.js";const L={name:"PsImageUpload",props:{imageFile:{type:Object},disabled:{type:Boolean,default:!1}},components:{PsButton:I,PsLabel:B,PsLabelTitle3:F,PsIcon:N,PsDraggable:z,PsIcon1:S},setup(n,{emit:a}){const t=j({data:[]}),e=v();let m;function k(){e.value.click()}function b(){return t.data[0]}let i=v(),_=v();function y(h){const s=h.target.files;t.data=[];for(let f=0;f<s.length;f++){const P=new FileReader;P.onload=w=>{t.data.push(w.target&&w.target.result?w.target.result.toString():"")},P.readAsDataURL(s[f]),m=s[f],i.value=m.name,_.value=m.size*(1/8)*(1/1e3),a("update:imageFile",m)}}function x(){t.data=[]}return{imageClick:k,image:e,onImageSelected:y,previewImage:t,getImageUrl:b,imageName:i,imageSize:_,cancel:x}}},E={class:"w-full"},R={key:0,class:"flex flex-row items-center bg-primary-50 h-16"},T={class:"w-20"},A=["src"],O={class:"w-full flex justify-between mx-4"},q={class:"mt-2 flex-rows"};function G(n,a,t,e,m,k){const b=r("ps-icon"),i=r("ps-label"),_=r("ps-button"),y=r("ps-draggable"),x=r("ps-label-title-3"),h=r("ps-icon-1");return d(),C("div",E,[p(y,{disabled:t.disabled,class:V(["mt-4 px-2.5 h-52 rounded-lg",e.previewImage.data[0]?"border-b-0":""])},{default:l(()=>[p(b,{name:"small-cloud",theme:t.disabled?"text-secondary-300 dark:text-secondary-700":"text-secondary-500"},null,8,["theme"]),e.previewImage.data!=""?(d(),u(i,{key:0,textColor:t.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:l(()=>[c(o(e.previewImage.data.length)+" "+o(n.$t("ps_image_upload__file_is_choosen")),1)]),_:1},8,["textColor"])):(d(),u(i,{key:1,textColor:t.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:l(()=>[c(o(n.$t("ps_image_upload__no_file_is_choosen")),1)]),_:1},8,["textColor"])),g("input",{type:"file",accept:"image/*",ref:"image",style:{display:"none"},onChange:a[0]||(a[0]=s=>e.onImageSelected(s))},null,544),t.disabled==!1?(d(),u(_,{key:2,type:"button",onClick:a[1]||(a[1]=s=>e.imageClick()),class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:l(()=>[c(o(n.$t("ps_image_upload__choose_files")),1)]),_:1})):(d(),u(_,{key:3,type:"button",disabled:!0,colors:"bg-secondary-600 text-white",class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:l(()=>[c(o(n.$t("ps_image_upload__choose_files")),1)]),_:1}))]),_:1},8,["disabled","class"]),e.previewImage.data!=""?(d(),C("div",R,[g("div",T,[g("img",{alt:"Placeholder",class:"bg-transparent w-32 h-16 flex items-center justify-center object-cover",width:"68px",height:"62px",src:e.getImageUrl()},null,8,A)]),g("div",O,[g("p",q,[p(i,{class:"font-bold"},{default:l(()=>[c(o(e.imageName),1)]),_:1}),p(x,null,{default:l(()=>[c(o(n.$t("ps_image_upload__image_size"))+" "+o(e.imageSize),1)]),_:1})]),p(h,{onClick:a[2]||(a[2]=s=>e.cancel()),w:"16",h:"16",name:"cross",theme:"#EF4444"})])])):D("",!0)])}var Z=U(L,[["render",G]]);export{Z as P};
