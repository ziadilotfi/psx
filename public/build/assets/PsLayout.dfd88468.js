import{i as y,j as R,k as Q,o as s,c as u,l as T,b as i,w as c,n as b,a as r,g as F,T as oe,r as g,f as S,t as h,d as N,ac as C,p as k,L as G,ab as ne,ad as V,ae,af as se,ag as P,ah as le,ai as X,F as B,q as z,m as W,h as re,B as L,H as Z,aj as K,a7 as H}from"./app.17cd73cb.js";import{P as j}from"./PsIcon.05949a2a.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{P as O}from"./PsLabel.22ffb702.js";import{P as q,b as ie}from"./PsModal.bee9bcb9.js";import{P as E}from"./PsButton.e57c4d7d.js";import{P as de}from"./PsInputWithRightIcon.1f31b4ee.js";const ce={name:"PsDropdown",props:{horizontalAlign:{type:String,default:"left"},h:{type:String,default:" h-56 "},verticalAlign:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["on-click"],setup(t,{emit:n}){const e=y(!1);function o(){e.value&&(e.value=!e.value)}const _=y();function m(d){_.value.contains(d.target)||o()}R(()=>{document.addEventListener("click",m)}),Q(()=>{document.removeEventListener("click",m)});function l(){e.value=!e.value,n("on-click")}return{isMenuOpen:e,dropdown:_,hide:o,clicked:l}}},ue={class:"relative inline-block text-left text-secondary-500",ref:"dropdown"},me={key:0},_e={class:"flex flex-col"};function ge(t,n,e,o,_,m){return s(),u("div",ue,[e.disabled?(s(),u("div",me,[T(t.$slots,"select")])):(s(),u("div",{key:1,onClick:n[0]||(n[0]=(...l)=>o.clicked&&o.clicked(...l))},[T(t.$slots,"select")])),i(oe,{"enter-active-class":"transition ease-out duration-100","enter-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:c(()=>[o.isMenuOpen?(s(),u("div",{key:0,class:b(["absolute mt-2 rounded-md shadow-lg text-sm overflow-hidden border z-20 overflow-y-auto bg-background dark:bg-backgroundDark",[e.horizontalAlign=="right"?"origin-top-right right-0 ":"origin-top-left left-0",e.verticalAlign,e.h]])},[r("div",_e,[T(t.$slots,"filter"),r("div",{onClick:n[1]||(n[1]=l=>o.isMenuOpen=!o.isMenuOpen)},[T(t.$slots,"list")]),T(t.$slots,"loadmore")])],2)):F("",!0)]),_:3})],512)}var fe=D(ce,[["render",ge]]);const pe={name:"PsDropdownSelect",components:{PsIcon:j},props:{selectedValue:{type:String,default:""},bgColor:{type:String,default:" "},w:{type:String,default:"w-full"},h:{type:String,default:"10"},id:{type:String},rounded:{type:String,default:" rounded"},text:{type:String,default:"text-xs lg:text-sm font-medium text-secondary-600 dark:text-secondary-100"},iconTheme:{type:String,default:"text-secondary-500 dark:text-secondary-200 "},padding:{type:String,default:" px-4 py-2 "},border:{type:String,default:"border border-1 border-secondary-200 dark:border-secondary-800"},shadow:{type:String,default:"shadow-sm"},justify:{type:String,default:"flex justify-between "},hover:{type:String,default:""},focus:{type:String,default:" focus:outline-none focus:shadow-outline-blue text-secondary-800 dark:text-secondary-400 active:bg-primary-200 active:text-secondary-800 dark:active:bg-primary-200 dark:active:text-secondary-800"},cursor:{type:String,default:"cursor-pointer"},opacity:{type:String,default:"opacity-100"},leftIcon:{type:String,default:""},leftIconTheme:{type:String,default:"me-1"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup(){}},he=["disabled","id"],be={class:"flex flex-row"};function ye(t,n,e,o,_,m){const l=g("ps-icon");return s(),u("button",{type:"button",disabled:e.disabled,class:b(["parent inline-flex items-center leading-5 transition ease-in-out duration-150 btn-focus",[e.bgColor,e.w,e.h,e.padding,e.shadow,e.rounded,e.border,e.hover,e.focus,e.cursor,e.opacity]]),id:e.id,"aria-haspopup":"true","aria-expanded":"true"},[r("div",{class:b(["w-full flex flex-row child items-center",e.justify])},[r("div",be,[e.leftIcon!=""?(s(),S(l,{key:0,name:e.leftIcon,class:b(e.leftIconTheme)},null,8,["name","class"])):F("",!0),e.placeholder==""?(s(),u("p",{key:1,class:b(e.disabled?"text-xs lg:text-sm font-medium text-secondary-300 dark:text-secondary-700":e.text)},h(e.selectedValue?e.selectedValue:t.$t("core.ps_dropdown_select__chooseone")),3)):(s(),u("p",{key:2,class:b(e.disabled?"text-xs lg:text-sm font-medium text-secondary-300 dark:text-secondary-700":e.text)},h(e.selectedValue?e.selectedValue:e.placeholder),3))]),i(l,{name:"downChervon",class:b(["child1",e.disabled?"text-secondary-300 dark:text-secondary-700":e.iconTheme])},null,8,["class"]),i(l,{name:"upChervon",class:b(["child2",e.disabled?"text-secondary-300 dark:text-secondary-700":e.iconTheme])},null,8,["class"])],2)],10,he)}var ve=D(pe,[["render",ye],["__scopeId","data-v-298b28fb"]]);const ke=N({name:"PsLabelCaption3",components:{PsLabel:O},props:{textColor:{type:String,default:"text-secondary-800 dark:text-secondaryDark-grey"}}});function xe(t,n,e,o,_,m){const l=g("ps-label");return s(),S(l,{class:"lg:text-md sm:text-sm text-xs",textColor:t.textColor},{default:c(()=>[T(t.$slots,"default")]),_:3},8,["textColor"])}var we=D(ke,[["render",xe]]);const Ce=N({name:"PsLabelHeader6",components:{PsLabel:O},props:{textColor:{type:String,default:"text-secondary-800 dark:text-secondaryDark-white"}}});function Se(t,n,e,o,_,m){const l=g("ps-label");return s(),S(l,{class:"text-lg font-medium",textColor:t.textColor},{default:c(()=>[T(t.$slots,"default")]),_:3},8,["textColor"])}var Fe=D(Ce,[["render",Se]]);const Ie={name:"PsIconToggle",components:{PsIcon:j},props:{selectedValue:{type:Boolean,default:!1},toggleOnTheme:{type:String,default:"bg-secondary-100 text-secondary-800 border border-secondary-100"},toggleOffTheme:{type:String,default:"bg-secondary-800 text-secondary-100 border border-secondary-800"},toggleOnIcon:{type:String,default:"night"},toggleOffIcon:{type:String,default:"day"}},emit:["onChange"],setup(t,n){const e=y(t.selectedValue);function o(){e.value=!e.value,n.emit("onChange")}return{toggle:o,toggleValue:e}}};function De(t,n,e,o,_,m){const l=g("ps-icon");return s(),u("div",null,[r("button",{class:b(["rounded-xl w-11 h-6 flex flex-row items-center",o.toggleValue?["justify-end ",e.toggleOnTheme]:["justify-start ",e.toggleOffTheme]]),type:"submit",onClick:n[0]||(n[0]=(...d)=>o.toggle&&o.toggle(...d))},[r("span",{class:b(["w-5 h-5 rounded-full items-center justify-center flex flex-col",o.toggleValue?[e.toggleOffTheme]:[e.toggleOnTheme]])},[i(l,{w:"10",h:"10",class:"flex-grow-0",name:o.toggleValue?e.toggleOnIcon:e.toggleOffIcon},null,8,["name"])],2)],2)])}var Ae=D(Ie,[["render",De]]);const Le={name:"PsTextButton",props:{type:{type:String,default:"submit"},padding:{type:String,default:"py-2 px-4"},colors:{type:String,default:"text-blue-500 dark:text-white"},shadow:{type:String,default:"shadow-none"},textSize:{type:String,default:"text-sm "},hover:{type:String,default:""},focus:{type:String,default:""},cursor:{type:String,default:"cursor-pointer"},opacity:{type:String,default:"opacity-100"},disabled:{type:Boolean,default:!1}}},Me=["type","disabled"];function Te(t,n,e,o,_,m){return s(),u("button",{type:e.type,disabled:e.disabled,class:b([e.disabled?[e.colors,e.shadow,e.textSize,e.hover,e.focus,"cursor-not-allowed opacity-30",e.padding]:[e.colors,e.shadow,e.textSize,e.hover,e.focus,e.cursor,e.opacity,e.padding],"font-medium transition duration-150 ease-in-out"])},[T(t.$slots,"default")],10,Me)}var je=D(Le,[["render",Te]]);const Oe=N({name:"PsDangerDialog",components:{PsModal:q,PsLabel:O,PsButton:E,PsIcon:j},setup(){const t=y(),n=y(C("ps_danger_dialog__danger")),e=y(C("ps_danger_dialog__danger_message")),o=y(C("ps_confirm_dialog__yes")),_=y(C("ps_confirm_dialog__no"));let m,l;function d(p){p=="yes"?m():l(),t.value.toggle(!1)}function a(p,w,v,x,M,U){p!=null&&p.trim()!=""&&(n.value=p),w!=null&&w.trim()!=""&&(e.value=w),x!=null&&x.trim()!=""&&(_.value=x),v!=null&&v.trim()!=""&&(o.value=v),t.value.toggle(!0),m=M,l=U}function f(){t.value.toggle(!1)}return{psmodal:t,openModal:a,closeModal:f,title:n,actionClicked:d,okButton:o,cancelButton:_,message:e}}}),Be={class:"flex flex-row items-center"},Pe={class:"w-full text-start mt-2"},ze={class:"flex flex-row justify-end"};function Ne(t,n,e,o,_,m){const l=g("ps-icon"),d=g("ps-label"),a=g("ps-button"),f=g("ps-modal");return s(),S(f,{ref:"psmodal",maxWidth:"480px",line:"hidden",isClickOut:!1,theme:" px-6 py-6 rounded-lg shadow-xl me-3",class:"z-20"},{title:c(()=>[r("div",Be,[i(l,{name:"info",class:"text-red-500 me-2.5"}),i(d,{class:"text-lg font-semibold"},{default:c(()=>[k(h(t.title),1)]),_:1})])]),body:c(()=>[r("div",Pe,[i(d,{class:"font-light text-sm lg:text-base"},{default:c(()=>[k(h(t.message),1)]),_:1})])]),footer:c(()=>[r("div",ze,[i(a,{rounded:"rounded",onClick:n[0]||(n[0]=p=>t.actionClicked("no")),textSize:"text-xs lg:text-sm",class:"me-4",border:"border border-gray-200 dark:border-secondary-700",colors:"bg-none dark:text-secondary-100",hover:"hover:outline-none hover:ring hover:ring-secondary-100 dark:hover:ring-secondary-600"},{default:c(()=>[k(h(t.cancelButton),1)]),_:1}),i(a,{rounded:"rounded",onClick:n[1]||(n[1]=p=>t.actionClicked("yes")),textSize:"text-xs lg:text-sm",class:"",colors:"bg-red-500 text-white dark:text-textDark",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:c(()=>[k(h(t.okButton),1)]),_:1})])]),_:1},512)}var Ve=D(Oe,[["render",Ne]]);const Ue=N({name:"PsWarningDialog",components:{PsModal:q,PsLabel:O,PsButton:E,PsIcon:j},setup(){const t=y(),n=y(C("ps_warning_dialog__warning")),e=y(C("ps_warning_dialog__warning_message")),o=y(C("ps_confirm_dialog__yes")),_=y(C("ps_confirm_dialog__no"));let m,l;function d(p){p=="yes"?m():l(),t.value.toggle(!1)}function a(p,w,v,x,M,U){p!=null&&p.trim()!=""&&(n.value=p),w!=null&&w.trim()!=""&&(e.value=w),x!=null&&x.trim()!=""&&(_.value=x),v!=null&&v.trim()!=""&&(o.value=v),t.value.toggle(!0),m=M,l=U}function f(){t.value.toggle(!1)}return{psmodal:t,openModal:a,closeModal:f,title:n,actionClicked:d,okButton:o,cancelButton:_,message:e}}}),Re={class:"flex flex-auto items-center"},Ge={class:"w-full text-start mt-2"},Ee={class:"flex flex-row justify-end"};function He(t,n,e,o,_,m){const l=g("ps-icon"),d=g("ps-label"),a=g("ps-button"),f=g("ps-modal");return s(),S(f,{ref:"psmodal",maxWidth:"480px",line:"hidden",isClickOut:!1,theme:" px-6 py-6 rounded-lg shadow-xl",class:"z-20"},{title:c(()=>[r("div",Re,[i(l,{name:"alert-triangle",class:"text-yellow-500 me-2.5"}),i(d,{class:"text-lg font-semibold"},{default:c(()=>[k(h(t.title),1)]),_:1})])]),body:c(()=>[r("div",Ge,[i(d,{class:"font-light text-sm lg:text-base"},{default:c(()=>[k(h(t.message),1)]),_:1})])]),footer:c(()=>[r("div",Ee,[i(a,{rounded:"rounded",onClick:n[0]||(n[0]=p=>t.actionClicked("no")),textSize:"text-xs lg:text-sm",class:"me-2",border:"border border-gray-200",colors:"bg-none",hover:"hover:outline-none hover:ring hover:ring-gray-100"},{default:c(()=>[k(h(t.cancelButton),1)]),_:1}),i(a,{rounded:"rounded",onClick:n[1]||(n[1]=p=>t.actionClicked("yes")),textSize:"text-xs lg:text-sm",class:"",colors:"bg-blue-500 text-white"},{default:c(()=>[k(h(t.okButton),1)]),_:1})])]),_:1},512)}var We=D(Ue,[["render",He]]);const qe={components:{PsIcon:j,PsDropdown:fe,PsDropdownSelect:ve,PsLabel:O,Link:G,PsToggle:ie,PsButton:E,PsIconToggle:Ae,PsLabelHeader6:Fe,PsTextButton:je,PsLabelCaption3:we,PsDangerDialog:Ve,PsWarningDialog:We},props:["can","defaultProfileImg"],data(){return{show:!1,selectedLanguage:""}},setup(){const t=ne({data:{}}),n=y(!1),e=y(),o=y(),_=y(),m=V(),l=y(localStorage.activeLanguage);async function d(){t.data!=null&&t.data.length>0?await a():(n.value=!0,await a(),n.value=!1)}async function a(){await axios.get(route("contact.getContactFormTitle")).then(x=>{t.data=x.data.contacts,o.value=x.data.unseenCount}).catch(x=>{})}function f(x){e.value.openModal(C("core__delete"),C("core__comfirm_to_delete_contact"),C("core__be_btn_confirm"),C("core__be_btn_cancel"),()=>{P.Inertia.delete(route("contact.destroy",x),{onSuccess:()=>{a()},onError:()=>{}})},()=>{})}function p(){_.value.openModal(C("core__warning"),C("core__comfirm_to_mark_as_read"),C("core__be_btn_confirm"),C("core__be_btn_cancel"),()=>{P.Inertia.put(route("contact.allasread"),{onSuccess:()=>{a()},onError:()=>{}})},()=>{})}function w(x){P.Inertia.get(route("contact.edit",x))}function v(x){le(x.symbol),m.dispatch("handleActiveLanguage",x.symbol)}return{contacts:t,clickMessageButton:d,clickedDeleteContact:f,loading:n,ps_danger_dialog:e,makeAllRead:p,goToDetail:w,count:o,ps_warning_dialog:_,handleLanguage:v,activeLanguage:l}},computed:{...ae(["isDarkMode","dir","sidebarNavOpen","sidebarFull","showMenu","supportedLanguages"])},methods:{...se(["handleSidebarFull","handleSidebarNavOpen","handleShowMenu","toggleDir","toggleDarkMode"]),logout(){this.$inertia.post(route("logout"))},toContact(){this.$inertia.get(route("contact.index"))}}},Ye={class:"text-secondary-800 dark:text-secondary-100 font-extrabold flex flex-row ps-6"},Je={class:"text-secondary-800 flex items-center"},Ke={class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8"},Qe={class:"rounded-md shadow-xs w-32"},Xe={class:"pt-2 z-30"},Ze=["onClick"],$e={class:"rounded-md shadow-xs w-72 sm:w-96 lg:w-140"},et={class:"z-30 py-2"},tt={class:"w-full items-center px-4 py-2"},ot={class:"flex justify-between"},nt={key:0,class:"text-white text-center ms-2 px-1.5 text-sm py-0.5 rounded-full bg-primary-500"},at={key:0},st={key:1,class:"h-80 overflow-y-auto"},lt=["onClick"],rt={class:"h-8 w-8 sm:w-12 sm:h-12"},it={width:"20",height:"20",class:"mx-2 h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 object-cover",alt:"Profile photo"},dt={class:"w-full ms-4"},ct={class:"flex flex-col sm:flex-row sm:justify-between lg:justify-start lg:grid grid-cols-2 text-sm"},ut={class:"truncate w-44 sm:w-68 lg:w-104 overflow-hidden"},mt={key:2},_t={class:"h-8 w-8 rounded-full"},gt=["alt"],ft=["src","alt"],pt={class:"rounded-md shadow-xs w-56"},ht={class:"z-30"},bt={type:"submit",class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"};function yt(t,n,e,o,_,m){const l=g("ps-icon"),d=g("ps-dropdown-select"),a=g("ps-label"),f=g("ps-dropdown"),p=g("ps-icon-toggle"),w=g("ps-label-caption-3"),v=g("ps-text-button"),x=g("Link"),M=g("ps-danger-dialog"),U=g("ps-warning-dialog"),Y=X("lazy");return s(),u("div",{class:b([{"ps-0 xl:ps-76":t.sidebarFull,"ps-0 xl:ps-20":!t.sidebarFull},"fixed transition-all duration-600 bg-white z-50 dark:bg-secondary-800 dark:text-white shadow py-2 pe-6 items-center flex justify-between w-full"])},[r("div",Ye,[r("button",{onClick:n[0]||(n[0]=I=>{t.handleShowMenu(t.sidebarFull?t.showMenu:!1),t.handleSidebarFull(!t.sidebarFull)}),class:"hidden xl:block"},[i(l,{name:"hamburger"})]),r("button",{onClick:n[1]||(n[1]=I=>{t.handleSidebarNavOpen(!t.sidebarNavOpen),t.handleShowMenu(t.sidebarFull?t.showMenu:!1)}),class:"xl:hidden block"},[i(l,{name:"hamburger"})])]),r("div",Je,[r("div",Ke,[i(f,{align:"left"},{select:c(()=>[i(d,{padding:"px-4 py-0.5",selectedValue:t.$page.props.languages.filter(I=>I.symbol==o.activeLanguage)[0].name},null,8,["selectedValue"])]),list:c(()=>[r("div",Qe,[r("div",Xe,[(s(!0),u(B,null,z(t.$page.props.languages,I=>(s(),u("div",{key:I.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:A=>o.handleLanguage(I)},[i(a,{class:b(["ms-2",I.symbol==o.activeLanguage?" font-bold":""])},{default:c(()=>[k(h(I.name),1)]),_:2},1032,["class"])],8,Ze))),128))])])]),_:1})]),i(p,{class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8",selectedValue:t.isDarkMode,onOnChange:t.toggleDarkMode},null,8,["selectedValue","onOnChange"]),i(f,{horizontalAlign:"right",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto"},{select:c(()=>[i(l,{onClick:o.clickMessageButton,name:"email",class:"text-secondary-800 dark:text-secondary-100 cursor-pointer text-"},null,8,["onClick"])]),list:c(()=>{var I;return[r("div",$e,[r("div",et,[r("div",tt,[r("div",ot,[i(a,{class:"text-md lg:text-lg",textColor:"text-secondary-800 dark:text-secondary-100"},{default:c(()=>[k(h(t.$t("core__be_messages")),1)]),_:1}),t.$page.props.can.updateContact?(s(),S(a,{key:0,onClick:o.makeAllRead,class:"text-xs sm:text-sm cursor-pointer",textColor:"text-primary-500"},{default:c(()=>[k(h(t.$t("core__be_mark_all_as_read")),1)]),_:1},8,["onClick"])):F("",!0)]),i(a,{textColor:"text-sm sm:text-md text-primary-500 mt-4 lg:mt-6 mb-2"},{default:c(()=>[k(h(t.$t("core__be_new_messages")),1),o.count>0?(s(),u("span",nt,h(o.count),1)):F("",!0)]),_:1}),k(" "+h(o.contacts.data.newMessageCount),1)]),o.loading?(s(),u("div",at,[i(a,{class:"text-center py-6"},{default:c(()=>[k(h(t.$t("core__be_loading")),1)]),_:1})])):((I=o.contacts.data)==null?void 0:I.length)>0?(s(),u("div",st,[(s(!0),u(B,null,z(o.contacts.data,A=>{var J;return s(),u("div",{key:A.id,class:"cursor-pointer"},[r("div",{class:b([A.is_read==0?"bg-primary-50 dark:bg-primary-900":"bg-secondary-50 dark:bg-secondary-900 ","rounded py-3 px-4 mb-2 text-base inline-flex items-center w-full shadow-sm"])},[r("div",{class:"flex flex-row w-full items-center",onClick:te=>o.goToDetail(A.id)},[r("div",rt,[W(r("img",it,null,512),[[Y,{src:t.$page.props.uploadUrl+"/"+((J=A.owner)==null?void 0:J.user_cover_photo),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_profile.png"}]])]),r("span",dt,[r("span",ct,[i(a,{class:"font-semibold text-xs sm:text-sm"},{default:c(()=>[k(h(A.contact_name),1)]),_:2},1024),i(w,null,{default:c(()=>[k(h(t.$t("core__be_by"))+" : "+h(A.contact_email),1)]),_:2},1024)]),r("div",ut,[i(w,{class:"truncate w-44 sm:w-68 lg:w-104"},{default:c(()=>[k(h(A.contact_message),1)]),_:2},1024)])])],8,lt),A.authorization.delete?(s(),S(l,{key:0,name:"close",onClick:te=>o.clickedDeleteContact(A.id),class:"text-secondary-400 text-sm ms-auto justify-end my-auto focus:shadow-none hover:text-purple-500"},null,8,["onClick"])):F("",!0)],2)])}),128))])):(s(),u("div",mt,[i(a,{class:"text-center py-6"},{default:c(()=>[k(h(t.$t("core__be_no_contact_message")),1)]),_:1})])),i(v,{class:"w-full justify-center m-3",textColor:"text-primary-500",onClick:n[2]||(n[2]=A=>m.toContact())},{default:c(()=>[k(h(t.$t("core__be_view_all_message")),1)]),_:1})])])]}),_:1}),i(f,{horizontalAlign:"right",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto"},{select:c(()=>{var I,A;return[r("div",_t,[(I=t.$page.props.authUser)!=null&&I.user_cover_photo?W((s(),u("img",{key:0,class:"object-cover h-8 w-8 rounded-full cursor-pointer",alt:t.$t("core__be_profile")},null,8,gt)),[[Y,{src:t.$page.props.uploadUrl+"/"+((A=t.$page.props.authUser)==null?void 0:A.user_cover_photo),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_profile.png"}]]):(s(),u("img",{key:1,class:"object-cover h-8 w-8 rounded-full cursor-pointer",src:t.$page.props.uploadUrl+"/default_profile.png",alt:t.$t("core__be_profile")},null,8,ft))])]}),list:c(()=>[r("div",pt,[r("div",ht,[i(x,{href:t.route("user.profile.edit",t.$page.props.user),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:c(()=>[i(l,{name:"user-line"}),i(a,{class:"ms-2"},{default:c(()=>[k(h(t.$t("core__be_profile")),1)]),_:1})]),_:1},8,["href"]),r("form",{onSubmit:n[3]||(n[3]=re((...I)=>m.logout&&m.logout(...I),["prevent"]))},[r("button",bt,[i(l,{name:"signOut"}),i(a,{class:"ms-2"},{default:c(()=>[k(h(t.$t("core__be_logout")),1)]),_:1})])],32)])])]),_:1})]),i(M,{ref:"ps_danger_dialog"},null,512),i(U,{ref:"ps_warning_dialog"},null,512)],2)}var vt=D(qe,[["render",yt]]);const kt=N({components:{PsModal:q,PsLabel:O,PsButton:E,PsIcon:j},setup(){const t=y(),n=y(C("ps_success_dialog__success")),e=y(C("ps_success_dialog__success_message")),o=y(C("ps_confirm_dialog__yes"));let _;function m(){t.value.toggle(!1),_()}function l(a,f,p,w){n.value=a,e.value=f.toString(),o.value=p,t.value.toggle(!0),_=w}function d(){t.value.toggle(!1)}return{psmodal:t,title:n,message:e,openModal:l,actionClicked:m,okButton:o,close:d}}}),xt={class:"flex flex-col text-center justify-center items-center text-gray-300"},wt={class:"w-full text-center mt-4"},Ct={class:"flex justify-center mt-6"},St={class:"flex-grow-0"};function Ft(t,n,e,o,_,m){const l=g("ps-icon"),d=g("ps-label"),a=g("ps-button"),f=g("ps-modal");return s(),S(f,{ref:"psmodal",maxWidth:"450px",line:"hidden",isClickOut:!1,theme:" px-6 py-7 rounded-lg shadow-xl",class:"z-20"},{title:c(()=>[i(l,{onClick:n[0]||(n[0]=p=>t.close()),name:"close",class:"text-sm text-secondary-400 ms-auto my-auto focus:shadow-none hover:text-purple-500 flex justify-end"}),r("div",xt,[i(l,{class:"flex-grow-0",name:"alert-triangle",w:"86",h:"86"}),i(d,{class:"font-medium text-xl lg:text-2xl mt-3"},{default:c(()=>[k(h(t.title),1)]),_:1})])]),body:c(()=>[r("div",wt,[i(d,{class:"font-light text-sm lg:text-base"},{default:c(()=>[k(h(t.message),1)]),_:1})])]),footer:c(()=>[r("div",Ct,[r("div",St,[i(a,{rounded:"rounded",onClick:n[1]||(n[1]=p=>t.actionClicked()),textSize:"text-sm",class:"",colors:"bg-red-500 text-white",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:c(()=>[k(h(t.okButton),1)]),_:1})])])]),_:1},512)}var $=D(kt,[["render",Ft]]);const It={components:{PsLabel:O,PsIcon:j,PsErrorDialog:$},props:{icon:{type:String,default:""},hasModule:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"},url:{type:String,default:""},dropdownActive:{type:Boolean,default:!1}},setup(t){const n=V(),e=L(()=>n.getters.sidebarFull),o=L(()=>n.getters.sidebarActive),_=y();function m(d){n.dispatch("handleSidebarFull",d)}function l(){if(!t.hasModule)try{P.Inertia.get(route(t.url)),n.dispatch("handleSidebarActive",t.name)}catch(d){_.value.openModal("Can't go to "+t.url,d.message,"Retry",()=>{l()})}m(!0)}return{sidebarFull:e,sidebarActive:o,handleSidebarFull:m,menuClick:l,ps_error_dialog:_}}},Dt={class:"relative flex flex-row items-center"},At={class:"relative"},Lt={class:"flex flex-col items-center"},Mt={key:1,class:""};function Tt(t,n,e,o,_,m){const l=g("ps-icon"),d=g("ps-label"),a=g("ps-error-dialog");return s(),S(d,null,{default:c(()=>[r("button",{type:"submit",onClick:n[0]||(n[0]=(...f)=>o.menuClick&&o.menuClick(...f)),class:b(["w-full justify-between flex cursor-pointer",{"justify-start ":o.sidebarFull,"sm:justify-center ":!o.sidebarFull,[e.activeTheme]:e.hasModule==!1&&o.sidebarActive==e.name||e.hasModule==!0&&e.dropdownActive==!0,[e.defaultTheme]:!(e.hasModule==!1&&o.sidebarActive==e.name||e.hasModule==!0&&e.dropdownActive==!0),[e.rounded]:!0,[e.padding]:!0}])},[r("div",Dt,[r("div",At,[e.noti!=""?(s(),u("div",{key:0,class:b([o.sidebarFull?"hidden":"","absolute w-1.5 h-1.5 ml-3 bg-red-500 rounded-full"])},null,2)):F("",!0),r("div",Lt,[e.showIcon?(s(),S(l,{key:0,class:"mx-auto my-auto",w:o.sidebarFull?"24":"20",h:o.sidebarFull?"24":"20",name:e.icon},null,8,["w","h","name"])):F("",!0)])]),r("span",{class:b([o.sidebarFull?"":"sm:hidden","ms-5 me-2 text-base"])},h(e.name),3)]),r("div",{class:b([o.sidebarFull?"":"sm:hidden","flex justify-center my-auto"])},[e.noti!=""?(s(),S(d,{key:0,class:b(["ms-2 me-2 text-xxs rounded-full text-center",{"text-primary-500":o.sidebarActive==e.name,"bg-primary-500  text-white":o.sidebarActive!=e.name,"w-6 h-6 pt-1.5":parseInt(e.noti)>99,"w-5 h-5 pt-1":parseInt(e.noti)>9,"w-4 h-4 pt-0.5":parseInt(e.noti)<9}])},{default:c(()=>[k(h(parseInt(e.noti)>99?"99+":e.noti),1)]),_:1},8,["class"])):F("",!0),e.showGroupIcon?(s(),u("div",Mt,[e.dropdownActive?(s(),S(l,{key:1,name:"upChervon",class:"me-1"})):(s(),S(l,{key:0,name:"downChervon"}))])):F("",!0)],2)],2),i(a,{ref:"ps_error_dialog"},null,512)]),_:1})}var ee=D(It,[["render",Tt]]);const jt={components:{PsLabel:O,PsIcon:j,PsErrorDialog:$},props:{icon:{type:String,default:""},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},url:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"}},setup(t){const n=V(),e=y(L(()=>n.getters.sidebarFull)),o=y(L(()=>n.getters.sidebarActive)),_=y(!1),m=y();function l(a){n.dispatch("handleSidebarFull",a)}function d(){try{P.Inertia.get(route(t.url)),n.dispatch("handleSidebarActive",t.name),_.value=!_.value,l(!0)}catch(a){m.value.openModal("Can't go to "+t.url,a.message,"Retry",()=>{d()})}}return{sidebarFull:e,sidebarActive:o,isDropdownActive:_,handleSidebarFull:l,clickedButton:d,ps_error_dialog:m}}},Ot={class:"relative items-center ps-10"},Bt={key:1,class:""};function Pt(t,n,e,o,_,m){const l=g("ps-label"),d=g("ps-icon"),a=g("ps-error-dialog");return s(),S(l,null,{default:c(()=>[r("div",{onClick:n[0]||(n[0]=(...f)=>o.clickedButton&&o.clickedButton(...f)),class:b(["w-full justify-between flex cursor-pointer",{"justify-start":o.sidebarFull,"sm:justify-center":!o.sidebarFull,[e.activeTheme]:o.sidebarActive==e.name,[e.defaultTheme]:o.sidebarActive!=e.name,[e.rounded]:!0,[e.padding]:!0}])},[r("div",Ot,[r("span",{class:b([o.sidebarFull?"":"sm:hidden","me-2 text-base"])},h(e.name),3)]),r("div",{class:b([o.sidebarFull?"":"sm:hidden","flex justify-center my-auto"])},[e.noti!=""?(s(),S(l,{key:0,class:b(["ms-2 me-2 text-xxs rounded-full text-center",{"text-primary-500":o.sidebarActive==e.name,"bg-primary-500  text-white":o.sidebarActive!=e.name,"w-6 h-6 pt-1.5":parseInt(e.noti)>99,"w-5 h-5 pt-1":parseInt(e.noti)>9,"w-4 h-4 pt-0.5":parseInt(e.noti)<9}])},{default:c(()=>[k(h(parseInt(e.noti)>99?"99+":e.noti),1)]),_:1},8,["class"])):F("",!0),e.showGroupIcon?(s(),u("div",Bt,[o.isDropdownActive?(s(),S(d,{key:1,name:"upChervon"})):(s(),S(d,{key:0,name:"downChervon"}))])):F("",!0)],2)],2),i(a,{ref:"ps_error_dialog"},null,512)]),_:1})}var zt=D(jt,[["render",Pt]]);const Nt={props:["group","searchterm","dropDown"],components:{Link:G,Head:Z,SideBarTab:ee,SidebarSubTab:zt},setup(t,{emit:n}){const e=V(),o=L(()=>e.getters.sidebarFull),_=y(L(()=>e.getters.sidebarActive)),m=y(""),l=y(!1);R(()=>{if(t.group&&t.group.module&&t.group.module!=""){for(let a=0;a<t.group.module.length;a++){let f=t.group.module[a].module_lang_key;setTimeout(()=>{m.value=C(f),m.value==_.value&&n("update:dropDown",t.group.sub_menu_lang_key)},200)}l.value=!0}else l.value=!0});function d(){t.group.sub_menu_lang_key!=t.dropDown?n("update:dropDown",t.group.sub_menu_lang_key):n("update:dropDown","0")}return{sidebarFull:o,sidebarActive:_,sidebarId:m,dataReady:l,clickSidebarTab:d}}},Vt={key:0,class:"relative"},Ut={key:1},Rt={key:2},Gt={key:0},Et={key:1};function Ht(t,n,e,o,_,m){const l=g("side-bar-tab"),d=g("sidebar-sub-tab");return o.dataReady?(s(),u("div",Vt,[e.group.module!=""?(s(),u("div",{key:0,onClick:n[0]||(n[0]=(...a)=>o.clickSidebarTab&&o.clickSidebarTab(...a))},[e.searchterm==null||e.group.module.filter(a=>t.$t(a.module_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())).length>0?(s(),S(l,{key:0,dropdownActive:e.group.sub_menu_lang_key==e.dropDown,name:t.$t(e.group.sub_menu_lang_key),showIcon:!0,icon:e.group.icon.icon_name,noti:e.group.sub_menu_noti,hasModule:!0},null,8,["dropdownActive","name","icon","noti"])):F("",!0)])):(s(),u("div",Ut,[e.searchterm==null||t.$t(e.group.sub_menu_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())?(s(),S(l,{key:0,dropdownActive:e.group.sub_menu_lang_key==e.dropDown,name:t.$t(e.group.sub_menu_lang_key),showIcon:!0,icon:e.group.icon.icon_name,noti:e.group.sub_menu_noti,showGroupIcon:!1,url:e.group.route_name?e.group.route_name.route_name:""},null,8,["dropdownActive","name","icon","noti","url"])):F("",!0)])),e.group.module!=""?(s(),u("div",Rt,[e.group.sub_menu_lang_key==e.dropDown?(s(),u("div",{key:0,class:b(["mb-2 transition ease-in-out delay-150",o.sidebarFull?"":"sm:hidden"])},[e.searchterm==null?(s(),u("div",Gt,[(s(!0),u(B,null,z(e.group.module,a=>(s(),u("div",{class:"mt-2",key:a.id},[i(d,{name:t.$t(a.module_lang_key),url:a.route_name?a.route_name.route_name:"",showGroupIcon:!1,noti:a.module_noti},null,8,["name","url","noti"])]))),128))])):(s(),u("div",Et,[(s(!0),u(B,null,z(e.group.module.filter(a=>t.$t(a.module_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())),a=>(s(),u("div",{class:"mt-2",key:a.id},[i(d,{name:t.$t(a.module_lang_key),url:a.route_name?a.route_name.route_name:"",showGroupIcon:!1,noti:a.module_noti},null,8,["name","url","noti"])]))),128))]))],2)):F("",!0)])):F("",!0)])):F("",!0)}var Wt=D(Nt,[["render",Ht]]);const qt={components:{Link:G,SidebarMenuItem:Wt,SideBarTab:ee,PsLabel:O,PsIcon:j,PsInputWithRightIcon:de},setup(){const t=y(""),n=V(),e=L(()=>n.getters.sidebarNavOpen),o=L(()=>n.getters.sidebarFull),_=y(L(()=>n.getters.sidebarActive)),m=y("0");function l(p){n.dispatch("handleSidebarNavOpen",p)}function d(p){n.dispatch("handleSidebarFull",p)}const a=y(null);function f(){localStorage.sidebarScroll=a.value.scrollTop}return Q(()=>{}),R(()=>{a.value.addEventListener("scroll",f),localStorage.sidebarScroll!=null&&setTimeout(()=>{a.value.scrollTo(0,parseInt(localStorage.sidebarScroll))},1e3)}),{searchterm:t,sidebarNavOpen:e,handleSidebarFull:d,sidebarFull:o,sidebarActive:_,dropDownOpen:m,handleSidebarNavOpen:l,sidebarMenuC:a}}},Yt={class:"grid grid-cols-1 divide-y-4"},Jt={class:""},Kt={key:0},Qt={key:1},Xt={key:2},Zt={key:3},$t={class:"flex items-center justify-center my-2 py-2"};function eo(t,n,e,o,_,m){const l=g("Link"),d=g("ps-label"),a=g("ps-icon"),f=g("ps-input-with-right-icon"),p=g("sidebar-menu-item"),w=X("lazy");return s(),u("div",{ref:"sidebarMenuC",class:b(["h-screen bg-primary-50 dark:border-gray-600 dark:bg-secondary-900 text-secondary-800 dark:text-secondary-100 transition-all duration-30 p-4 fixed xl:relative overflow-y-scroll overflow-x-hidden scroll-smooth",{"w-76":o.sidebarFull,"w-76 xl:w-20":!o.sidebarFull,"top-0 start-0":o.sidebarNavOpen,"top-0 -left-76 xl:left-0":!o.sidebarNavOpen}])},[r("div",{class:b(["flex flex-row ms-1 mt-4 justify-center xl:ms-0",o.sidebarFull?"ps-2 pe-2":""])},[i(l,{href:t.route("admin.index"),class:"flex flex-row"},{default:c(()=>[t.$page.props.backendLogo?(s(),u("div",{key:0,class:b(["rounded-lg pe-1",o.sidebarFull?"h-12 w-12":"w-8 h-8"])},[W(r("img",{class:b(["rounded-lg object-contain",o.sidebarFull?"h-12 w-12":"w-8 h-8"])},null,2),[[w,{src:t.$page.props.uploadUrl+"/"+t.$page.props.backendLogo.img_path,loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]])],2)):F("",!0)]),_:1},8,["href"])],2),r("div",{class:b(["flex flex-row justify-center mt-4",(o.sidebarFull,"")])},[i(d,{class:b(["text-base font-semibold",o.sidebarFull?"ms-1 mt-1":"xl:hidden"])},{default:c(()=>[k(h(t.$t("site_name")),1)]),_:1},8,["class"])],2),r("div",{class:b(["mt-5 mb-5",o.sidebarFull?"flex":"flex xl:hidden"])},[i(f,{value:o.searchterm,"onUpdate:value":n[0]||(n[0]=v=>o.searchterm=v),theme:"bg-white dark:bg-secondaryDark-black border-none rounded-lg placeholder-secondary-800 dark:placeholder-secondary-200",class:"w-full rounded-full flex",placeholder:t.$t("core__be_search")},{icon:c(()=>[i(a,{name:"search",class:"cursor-pointer",theme:"text-secondary-800 dark:text-secondary-200"})]),_:1},8,["value","placeholder"])],2),r("div",{class:b(["rounded-lg p-1 mt-6 mb-8 w-full flex items-center text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-secondary-700 dark:text-secondary-300 dark:bg-secondary-900",o.sidebarFull?"hidden":"hidden xl:flex"]),onClick:n[1]||(n[1]=(...v)=>o.handleSidebarFull&&o.handleSidebarFull(...v))},[i(a,{name:"search",class:"cursor-pointer",w:"20",h:"20"})],2),r("div",Yt,[r("div",Jt,[(s(!0),u(B,null,z(t.$page.props.menuGroups,v=>(s(),u("div",{key:v.id},[o.searchterm==null&&v.is_invisible_group_name!=1?(s(),S(d,{key:0,class:b([{flex:o.sidebarFull,hidden:!o.sidebarFull},"mt-4 mb-2"])},{default:c(()=>[k(h(t.$t(v.group_lang_key)),1)]),_:2},1032,["class"])):v.is_invisible_group_name!=1?(s(),S(d,{key:1,class:b([{flex:o.sidebarFull,hidden:!o.sidebarFull},"mt-4 mb-2"])},{default:c(()=>[t.$t(v.group_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())?(s(),u("span",Kt,h(t.$t(v.group_lang_key)),1)):v.sub_menu_group.filter(x=>t.$t(x.sub_menu_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())).length>0?(s(),u("span",Qt,h(t.$t(v.group_lang_key)),1)):v.sub_menu_group.filter(x=>x.is_dropdown==1&&x.module.filter(M=>t.$t(M.module_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())).length>0).length>0?(s(),u("span",Xt,h(t.$t(v.group_lang_key)),1)):(s(),u("span",Zt))]),_:2},1032,["class"])):F("",!0),(s(!0),u(B,null,z(v.sub_menu_group,x=>(s(),u("div",{key:x.id,class:"mt-2"},[i(p,{dropDown:o.dropDownOpen,"onUpdate:dropDown":n[2]||(n[2]=M=>o.dropDownOpen=M),group:x,searchterm:o.searchterm},null,8,["dropDown","group","searchterm"])]))),128))]))),128))]),r("div",$t,[i(d,{class:b(["text-xs font-regular",o.sidebarFull?"ms-1 mt-1":"xl:hidden"]),textColor:"text-gray-500"},{default:c(()=>[k(h(t.$t("core__be_version_number")),1)]),_:1},8,["class"])])])],2)}var to=D(qt,[["render",eo]]);const oo=N({components:{TitleBar:vt,SidebarMenu:to,Head:Z,Link:G},props:["title","project"],setup(t){const n=V(),e=L(()=>n.getters.isDarkMode),o=L(()=>n.getters.sidebarFull),_=L(()=>n.getters.dir);function m(){n.dispatch("handleSidebarNavOpen",!1)}return R(()=>{const d=K().props.value.currentRoute.split(".")[0],a=K().props.value.menuGroups;if(d=="admin"){const f="core__be_dashboard_label";localStorage.sidebarScroll=0,setTimeout(()=>{n.dispatch("handleSidebarActive",C(f))},100)}else for(let f=0;f<a.length;f++)for(let p=0;p<a[f].sub_menu_group.length;p++)if(a[f].sub_menu_group[p].module.length>0){for(let w=0;w<a[f].sub_menu_group[p].module.length;w++)if(a[f].sub_menu_group[p].module[w].module_name==d){const v=a[f].sub_menu_group[p].module[w].module_lang_key;setTimeout(()=>{n.dispatch("handleSidebarActive",C(v))},100)}}else if(a[f].sub_menu_group[p].sub_menu_name==d){const w=a[f].sub_menu_group[p].sub_menu_lang_key;setTimeout(()=>{n.dispatch("handleSidebarActive",C(w))},100)}n.dispatch("loadIsDarkMode"),n.dispatch("loadActiveLanguage"),n.dispatch("loadDirectory")}),P.Inertia.on("start",l=>{n.dispatch("handleSidebarNavOpen",!1)}),{isDarkMode:e,dir:_,sidebarFull:o,clickOutsideSidebar:m}}}),no={key:0,class:"p-1 w-full text-white-50 bg-red-100 h-100 fixed top-0 text-center"},ao=["href"],so=["dir"],lo={class:"flex-grow w-full h-full min-h-screen antialiased flex flex-col dark:bg-secondaryDark-black dark:text-textLight"};function ro(t,n,e,o,_,m){const l=g("Head"),d=g("title-bar"),a=g("sidebar-menu");return s(),u(B,null,[t.project.ps_license_code?F("",!0):(s(),u("small",no," \u26A0Please Activate Your Application!\u26A0 ")),i(l,null,{default:c(()=>[t.$page.props.favIcon?(s(),u("link",{key:0,rel:"icon",type:"image/svg+xml",href:t.$page.props.uploadUrl+"/"+t.$page.props.favIcon.img_path},null,8,ao)):F("",!0)]),_:1}),r("div",{class:b(["flex flex-row",t.isDarkMode?"dark":""]),dir:t.dir},[r("div",lo,[r("div",{onClick:n[0]||(n[0]=(...f)=>t.clickOutsideSidebar&&t.clickOutsideSidebar(...f)),style:H([t.project.ps_license_code?"":"margin-top: 24px !important;"]),class:b([{"xl:ms-76 ms-0":t.sidebarFull,"ms-0 xl:ms-20":!t.sidebarFull},"transition-all duration-600 overflow-x-hidden overflow-y-auto px-4 py-18"])},[T(t.$slots,"default")],6)]),r("div",{class:"fixed",style:H([t.project.ps_license_code?"":"top: 24px !important;"])},[i(d)],4),r("div",{class:"min-h-screen antialiased flex fixed left-0",style:H([t.project.ps_license_code?"":"top: 24px !important;"])},[i(a)],4)],10,so)],64)}var po=D(oo,[["render",ro]]);export{fe as P,ve as a,Fe as b,we as c,po as d,je as e,Ve as f,We as g,$ as h};
