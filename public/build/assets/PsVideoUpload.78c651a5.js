import{P as T}from"./PsButton.e57c4d7d.js";import{P as I}from"./PsLabel.22ffb702.js";import{P as A}from"./PsLabelTitle3.d3f1b34d.js";import{P as N}from"./PsIcon.05949a2a.js";import{P as W}from"./PsDraggable.e6494ff8.js";import{M as H}from"./PsModal.bee9bcb9.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{o as p,c as U,n as b,ad as $,B as q,i as v,r as c,f as P,w as d,a as n,l as D,b as u,d as G,ac as E,p as y,t as _,an as J,aE as K,ab as Q,g as X,F as Y}from"./app.17cd73cb.js";const Z={name:"PsLine",props:{theme:{type:String,default:"bg-secondary-700 dark:bg-white"}}};function ee(t,a,e,o,i,g){return p(),U("div",{class:b(["h-0.5",e.theme])},null,2)}var te=B(Z,[["render",ee]]);const oe={name:"PsModal",components:{Modal:H,PsLine:te},props:{maxWidth:{type:String,default:"500px"},bodyHeight:{type:String,default:"max-h-80"},isBackdropRemoved:{type:Boolean,default:!1},isMotionDisabled:{type:Boolean,default:!1},isClickOut:{type:Boolean,default:!0},modalTransition:{type:String,default:"scale"},isFullscreen:{type:Boolean,default:!1},theme:{type:String,default:" p-6 border lg:rounded-2xl rounded-xl  "},line:{type:String,default:"mt-4 "}},setup(){const t=$();t.dispatch("loadIsDarkMode");const a=q(()=>t.getters.isDarkMode),e=v(!1);function o(i){e.value=i}return{isOpen:e,toggle:o,store:t,isDarkMode:a}}};function ae(t,a,e,o,i,g){const f=c("ps-line"),r=c("Modal");return p(),P(r,{modelValue:o.isOpen,"onUpdate:modelValue":a[0]||(a[0]=m=>o.isOpen=m),fullscreen:e.isFullscreen,"modal-transition":e.modalTransition,"click-out":e.isClickOut,"disable-motion":e.isMotionDisabled,teleportTarget:"#app","max-width":e.isFullscreen?void 0:e.maxWidth,"remove-backdrop":e.isBackdropRemoved},{default:d(()=>[n("div",{class:b(o.isDarkMode?"dark":"")},[n("div",{class:b([e.theme,"max-h-auto bg-background dark:bg-backgroundDark"])},[D(t.$slots,"title",{},void 0,!0),u(f,{class:b(["mb-4",e.line])},null,8,["class"]),n("div",{class:b(["mb-4",e.bodyHeight])},[D(t.$slots,"body",{},void 0,!0)],2),D(t.$slots,"footer",{},void 0,!0)],2)],2)]),_:3},8,["modelValue","fullscreen","modal-transition","click-out","disable-motion","max-width","remove-backdrop"])}var se=B(oe,[["render",ae],["__scopeId","data-v-e43710aa"]]);const ne={name:"PsLabel",props:{textColor:{type:String,default:"text-secondary-800 dark:text-secondary-100"}}};function le(t,a,e,o,i,g){return p(),U("p",{class:b(["text-sm font-medium",e.textColor===""?"text-secondary-800 dark:text-secondaryDark-white":e.textColor])},[D(t.$slots,"default")],2)}var de=B(ne,[["render",le]]);const ie={name:"PsCustomButton",props:{type:{type:String,default:"submit"},rounded:{type:String,default:"rounded-lg"},colors:{type:String,default:"bg-primary-500 text-white dark:text-secondaryDark-black"},padding:{type:String,default:"py-2 px-4"},border:{type:String,default:"border-none"},shadow:{type:String,default:"shadow-none"},textSize:{type:String,default:"text-sm "},justify:{type:String,default:"flex justify-center items-center "},hover:{type:String,default:"hover:outline-none hover:ring hover:ring-blue-100"},focus:{type:String,default:"focus:outline-none focus:ring focus:ring-blue-300"},cursor:{type:String,default:"cursor-pointer"},opacity:{type:String,default:"opacity-100"},disabled:{type:Boolean,default:!1}}},re=["type","disabled"];function ce(t,a,e,o,i,g){return p(),U("button",{type:e.type,disabled:e.disabled,class:b([e.disabled?[e.rounded,e.colors,e.padding,e.border,e.shadow,e.textSize,e.justify,"cursor-not-allowed opacity-30"]:[e.rounded,e.colors,e.padding,e.border,e.shadow,e.textSize,e.hover,e.focus,e.cursor,e.opacity,e.justify],"font-medium transition duration-150 ease-in-out"])},[D(t.$slots,"default")],10,re)}var ue=B(ie,[["render",ce]]);const fe=G({components:{PsModal:se,PsLabel:de,PsButton:ue,PsIcon:N},setup(){const t=v(),a=v(E("ps_success_dialog__success")),e=v(E("ps_success_dialog__success_message")),o=v(E("ps_confirm_dialog__yes"));let i;function g(){t.value.toggle(!1),i()}function f(m,h,x,V){a.value=m,e.value=h.toString(),o.value=x,t.value.toggle(!0),i=V}function r(){t.value.toggle(!1)}return{psmodal:t,title:a,message:e,openModal:f,actionClicked:g,okButton:o,close:r}}}),me={class:"flex flex-col text-center justify-center items-center text-gray-300"},_e={class:"w-full text-center mt-4"},pe={class:"flex justify-center mt-6"},ge={class:"flex-grow-0"};function ye(t,a,e,o,i,g){const f=c("ps-icon"),r=c("ps-label"),m=c("ps-button"),h=c("ps-modal");return p(),P(h,{ref:"psmodal",maxWidth:"450px",line:"hidden",isClickOut:!1,theme:" px-6 py-7 rounded-lg shadow-xl",class:"z-20"},{title:d(()=>[u(f,{onClick:a[0]||(a[0]=x=>t.close()),name:"close",class:"text-sm text-secondary-400 ms-auto my-auto focus:shadow-none hover:text-purple-500 flex justify-end"}),n("div",me,[u(f,{class:"flex-grow-0",name:"alert-triangle",w:"86",h:"86"}),u(r,{class:"font-medium text-xl lg:text-2xl mt-3"},{default:d(()=>[y(_(t.title),1)]),_:1})])]),body:d(()=>[n("div",_e,[u(r,{class:"font-light text-sm lg:text-base"},{default:d(()=>[y(_(t.message),1)]),_:1})])]),footer:d(()=>[n("div",pe,[n("div",ge,[u(m,{rounded:"rounded",onClick:a[1]||(a[1]=x=>t.actionClicked()),textSize:"text-sm",class:"",colors:"bg-red-500 text-white",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:d(()=>[y(_(t.okButton),1)]),_:1})])])]),_:1},512)}var ve=B(fe,[["render",ye]]);J.add(K);const be={name:"PsVideoUpload",props:{videoFile:{type:Object},disabled:{type:Boolean,default:!1}},components:{PsButton:T,PsLabel:I,PsLabelTitle3:A,PsIcon:N,PsDraggable:W,PsErrorDialog:ve},setup(t,{emit:a}){const e=Q({data:[]}),o=v(),i=v();function g(){o.value.click()}function f(){return e.data[0]}let r=v(),m=v();function h(L){const l=L.target.files;if(!(l&&l.length>1)){if(e.data=[],l&&l[0]){const k=new FileReader;k.onload=()=>{var j;const w=l[0];r.value=w.name,m.value=w.size*(1/8)*(1/1e3);const S=new Blob([(j=k.result)!=null?j:""],{type:w.type}),M=URL.createObjectURL(S),s=document.createElement("video");s.oncanplay=function(){if(s.duration>60)return i.value.openModal("Video Upload!","Video must be less than a minute.","Ok",()=>{}),!1;{const z=function(){O()&&(s.removeEventListener("timeupdate",z),s.pause())};s.addEventListener("loadeddata",function(){O()&&s.removeEventListener("timeupdate",z)});const O=function(){const C=document.createElement("canvas");C.width=s.videoWidth,C.height=s.videoHeight,C.getContext("2d").drawImage(s,0,0,C.width,C.height);const F=C.toDataURL();x(F);const R=F.length>1e5;return R&&(e.data.push(F),URL.revokeObjectURL(M)),R};s.addEventListener("timeupdate",z),l[0]}},s.preload="metadata",s.src=M,s.muted=!0,s.play()},k.readAsArrayBuffer(l[0]),a("update:videoFile",l[0])}}}function x(L){let l=L.split(","),k=l[0].match(/:(.*?);/)[1],w=atob(l[1]),S=w.length,M=new Uint8Array(S);const s=k.split("/"),j=Date.now()+"."+s[1];for(;S--;)M[S]=w.charCodeAt(S);return new File([M],j,{type:k})}function V(){if(e.data)return e.data.splice(e.data[0],1)}return{videoClick:g,video:o,onVideoSelected:h,previewVideo:e,getVideoUrl:f,ps_error_dialog:i,videoName:r,videoSize:m,close:V}}},he={class:"w-full"},xe={key:0,class:"flex flex-row bg-primary-50 h-16"},ke={class:"w-20 flex flex-row justify-center items-center"},we={class:"w-20 absolute"},Se={id:"slider-full",alt:"Placeholder",width:"68px",height:"62px",class:"w-20 h-16 object-contain"},Ce=["src"],Pe=["src"],Be={class:"relative w-7 h-7 bg-secondary-200 rounded-full mx-auto mt-2"},Ve={class:"ms-4 mt-2 flex-rows"};function Le(t,a,e,o,i,g){const f=c("ps-icon"),r=c("ps-label"),m=c("ps-button"),h=c("ps-draggable"),x=c("font-awesome-icon"),V=c("ps-label-title-3"),L=c("ps-error-dialog");return p(),U(Y,null,[n("div",he,[u(h,{disabled:e.disabled,class:b(["mt-4 px-2.5 h-52 rounded-lg",o.previewVideo.data[0]?"border-b-0":""])},{default:d(()=>[u(f,{name:"small-cloud",theme:e.disabled?"text-secondary-300 dark:text-secondary-700":"text-secondary-500"},null,8,["theme"]),o.previewVideo.data!=""?(p(),P(r,{key:0,textColor:e.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:d(()=>[y(_(o.previewVideo.data.length)+" "+_(t.$t("ps_image_upload__file_is_choosen")),1)]),_:1},8,["textColor"])):(p(),P(r,{key:1,textColor:e.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:d(()=>[y(_(t.$t("ps_image_upload__no_file_is_choosen")),1)]),_:1},8,["textColor"])),n("input",{type:"file",size:"1",max:"1",accept:"video/*",ref:"video",style:{display:"none"},onChange:a[0]||(a[0]=l=>o.onVideoSelected(l))},null,544),e.disabled==!1?(p(),P(m,{key:2,type:"button",onClick:a[1]||(a[1]=l=>o.videoClick()),class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:d(()=>[y(_(t.$t("ps_video_upload__choose_files")),1)]),_:1})):(p(),P(m,{key:3,type:"button",disabled:!0,colors:"bg-secondary-600 text-white",class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:d(()=>[y(_(t.$t("ps_video_upload__choose_files")),1)]),_:1}))]),_:1},8,["disabled","class"]),o.previewVideo.data!=""?(p(),U("div",xe,[n("div",ke,[n("div",we,[n("video",Se,[n("source",{src:o.getVideoUrl(),type:"video/mp4"},null,8,Ce),n("source",{src:o.getVideoUrl(),type:"video/ogg"},null,8,Pe)])]),n("div",Be,[u(x,{icon:["fas","play"],class:"text-white py-1.5 px-2 text-md"})])]),n("p",Ve,[u(r,{class:"font-bold"},{default:d(()=>[y(_(o.videoName),1)]),_:1}),u(V,null,{default:d(()=>[y(_(t.$t("ps_video_upload__video_size"))+_(o.videoSize),1)]),_:1})]),u(f,{onClick:a[2]||(a[2]=l=>o.close()),textColor:t.textTheme,name:"cross",class:"text-sm ms-auto text-red-400 mt-1 focus:shadow-none hover:text-purple-500"},null,8,["textColor"])])):X("",!0)]),u(L,{ref:"ps_error_dialog"},null,512)],64)}var Re=B(be,[["render",Le]]);export{Re as P};
