import{d as h,r as i,ai as E,o as _,c as y,b as t,a as d,w as n,F as B,H as U,i as b,aB as H,m as L,g as $,h as S,p as l,t as c,f as F}from"./app.17cd73cb.js";import{u as q}from"./Validators.52e283a4.js";import{P as z}from"./PsCard.ad8f8108.js";import{P as D}from"./PsInput.1d284888.js";import{P as K}from"./PsLabel.22ffb702.js";import{P as R}from"./PsLabelHeader3.9a7ed4a2.js";import{P as M}from"./PsButton.e57c4d7d.js";import{P as T}from"./PsLabelCaption.88f9aeab.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";const j=h({components:{Head:U,PsCard:z,PsInput:D,PsLabel:K,PsLabelHeader3:R,PsButton:M,PsLabelCaption:T},props:{email:String,token:String},setup(o){const{isEmpty:s,isEmail:g}=q(),u=b(),f=b(),w=b();let v=H({token:this.token,email:this.email,password:"",password_confirmation:""});return{email:u,password:f,password_confirmation:w,form:v,validateEmailInput:(r,a)=>{o.errors[r]=a?g(r,a):s(r,a),r=="email"&&(u.value.isError=o.errors.email!="")},validatePasswordInput:(r,a)=>{o.errors[r]=a?"":s(r,a),r=="password"&&(f.value.isError=o.errors.password!="")},validateConfPasswordInput:(r,a)=>{o.errors[r]=a?"":s(r,a),r=="password_confirmation"&&(w.value.isError=o.errors.password_confirmation!="")}}},methods:{submit(){this.form.post(this.route("password.update"),{onFinish:()=>this.form.reset("password","password_confirmation")})}}}),A={class:"min-h-screen flex flex-col items-center mt-12 sm:pt-0"},G={key:0,width:"50",height:"50",class:"m-auto mt-2.5 mb-4"},J=l("Reset Password"),O=l("Email"),Q={class:"mt-4"},W=l("Password"),X={class:"mt-4"},Y=l("Confirm Password"),Z={class:"block mt-4"},N=l(" Reset Password ");function x(o,s,g,u,f,w){const v=i("Head"),P=i("ps-label-header-3"),p=i("ps-label"),m=i("ps-input"),r=i("ps-label-caption"),a=i("ps-loading"),I=i("ps-button"),k=i("ps-card"),C=E("lazy");return _(),y(B,null,[t(v,{title:o.$t("reset_password")},null,8,["title"]),d("div",A,[t(k,{class:"w-full sm:max-w-md mt-6 px-6 py-4 shadow-md",rounded:"rounded"},{default:n(()=>[o.$page.props.backendLogo?L((_(),y("img",G,null,512)),[[C,{src:o.$page.props.uploadUrl+"/"+o.$page.props.backendLogo.img_path,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_photo.png"}]]):$("",!0),t(P,{class:"font-semibold my-4 text-center"},{default:n(()=>[J]),_:1}),d("form",{onSubmit:s[9]||(s[9]=S((...e)=>o.submit&&o.submit(...e),["prevent"]))},[d("div",null,[t(p,null,{default:n(()=>[O]),_:1}),t(m,{type:"email",ref:"email",value:o.form.email,"onUpdate:value":s[0]||(s[0]=e=>o.form.email=e),required:"",autofocus:"",onKeyup:s[1]||(s[1]=e=>o.validateEmailInput("email",o.form.email)),onBlur:s[2]||(s[2]=e=>o.validateEmailInput("email",o.form.email))},null,8,["value"]),t(r,{textColor:"text-red-500 ",class:"mt-2 block"},{default:n(()=>[l(c(o.errors.email),1)]),_:1})]),d("div",Q,[t(p,null,{default:n(()=>[W]),_:1}),t(m,{type:"password",ref:"password",value:o.form.password,"onUpdate:value":s[3]||(s[3]=e=>o.form.password=e),required:"",autocomplete:"new-password",onKeyup:s[4]||(s[4]=e=>o.validatePasswordInput("password",o.form.password)),onBlur:s[5]||(s[5]=e=>o.validatePasswordInput("password",o.form.password))},null,8,["value"]),t(r,{textColor:"text-red-500 ",class:"mt-2 block"},{default:n(()=>[l(c(o.errors.password),1)]),_:1})]),d("div",X,[t(p,null,{default:n(()=>[Y]),_:1}),t(m,{type:"password",ref:"password_confirmation",value:o.form.password_confirmation,"onUpdate:value":s[6]||(s[6]=e=>o.form.password_confirmation=e),required:"",autocomplete:"new-password",onKeyup:s[7]||(s[7]=e=>o.validateConfPasswordInput("password_confirmation",o.form.password_confirmation)),onBlur:s[8]||(s[8]=e=>o.validateConfPasswordInput("password_confirmation",o.form.password_confirmation))},null,8,["value"]),t(r,{textColor:"text-red-500 ",class:"mt-2 block"},{default:n(()=>[l(c(o.errors.password_confirmation),1)]),_:1})]),d("div",Z,[t(I,{class:"w-full mb-2"},{default:n(()=>[o.form.processing?(_(),F(a,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500 me-1",loadingSize:"h-5 w-5"})):$("",!0),N]),_:1})])],32)]),_:1})])],64)}var po=V(j,[["render",x]]);export{po as default};
